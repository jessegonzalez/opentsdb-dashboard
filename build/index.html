<!doctype html>
<html>
<head>
	<title>OpenTSDB Dashboard</title>
	<link href="./css/app.css" rel="stylesheet" />
</head>
<body>
	<script>var a={};(function(){var b=a._1={exports:{}},c=b.exports;b.exports=function(a,b,c){typeof c=="undefined"&&(c=a.length);return Array.prototype.slice.call(a,b||0,c)}})(),function(){var b=a._2={exports:{}},c=b.exports,d=a._1.exports;b.exports=function(a){var b=d(arguments,1);return function(){var c=d(arguments);return a.apply(this,b.concat(c))}}}(),function(){var b=a._3={exports:{}},c=b.exports;b.exports=function(a){return Object.prototype.toString.call(a)=="[object Array]"}}(),function(){var b=a._4={exports:{}},c=b.exports,d=a._3.exports;b.exports=function(a,b,c){if(!!a){c||(c=b,b=this);if(d(a))for(var e=0;e<a.length;e++)c.call(b,a[e],e);else for(var f in a)c.call(b,a[f],f)}}}(),function(){var b=a._5={exports:{}},c=b.exports,d=a._4.exports;b.exports=function(a,b,c){var e=[];c||(c=b,b=this),d(a,b,function(a,d){e.push(c.call(b,a,d))});return e}}(),function(){function i(a){try{"onload"in a?a.onload=a.onerror=a.ontimeout=null:"onreadystatechange"in a&&(a.onreadystatechange=null),a.abort&&a.abort()}catch(b){}}function h(a,b,c,d){return g(a,b,c,d,{json:!0})}function g(a,b,c,d,g){var h=new f;a=a.toUpperCase(),g=g||{},h.onreadystatechange=function(){var a,b;try{if(h.readyState!=4)return;if(h.status!=200)return d(new Error(h.status));b=g.json?JSON.parse(h.responseText):h.responseText}catch(c){a=c}if(a||typeof b!=undefined)i(h),d(a,b)};var j=null,k=g.encode!==!1,l=e(c,function(a,b){return(k?encodeURIComponent(b):b)+"="+(k?encodeURIComponent(JSON.stringify(a)):a)});a=="GET"?(b.indexOf("?")==-1&&(b=b+"?"),b+=l.join("&")):a=="POST"&&(j=l.join("&")),h.open(a,b,!0),a=="POST"&&(h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.setRequestHeader("Content-length",j.length),h.setRequestHeader("Connection","close")),h.send(j)}var b=a._6={exports:{}},c=b.exports,d=a._2.exports,e=a._5.exports;b.exports={request:g,get:d(g,"get"),post:d(g,"post"),jsonGet:d(h,"get"),jsonPost:d(h,"post")};var f=window.XMLHttpRequest||function(){return new ActiveXObject("Msxml2.XMLHTTP")}}(),function(){var b=a._7={exports:{}},c=b.exports;b.exports=function(a,b){b||(b=a),b.prototype=a.prototype;var c=function(){this._init&&this._init.apply(this,arguments)};c.prototype=new b(function(b,c,d){var e=a;while(e=e.prototype)if(e[c])return e[c].apply(b,d||[]);throw new Error("supr: parent method "+c+" does not exist")}),c.prototype.constructor=c;return c}}(),function(){var b=a._8={exports:{}},c=b.exports,d=a._1.exports;b.exports=function(a,b){typeof b=="string"&&(b=a[b]);var c=d(arguments,2);return function(){var e=d(arguments);return b.apply(a,c.concat(e))}}}(),function(){var b=a._9={exports:{}},c=b.exports,d=a._7.exports,e=a._8.exports,f=a._1.exports;b.exports=d(function(){this._init=function(){this._subscribers={}},this.on=function(a,b){var c=this._subscribers[a];c||(c=this._subscribers[a]=[]),c.push(b);return this},this._publish=function(a){var b=f(arguments,1),c=this._subscribers[a];if(!a||!c)return this;for(var d=0;d<c.length;d++)c[d].apply(this,b);return this}})}(),function(){var b=a._10={exports:{}},c=b.exports;b.exports=function(a,b){a=a||{};for(var c in b){if(typeof a[c]!="undefined")continue;a[c]=b[c]}return a}}(),function(){var b=a._11={exports:{}},c=b.exports;b.exports=function(a,b){if(!!a)for(var c=0;c<a.length;c++){if(a[c]!=b)continue;a.splice(c,1);return}}}(),function(){var b=a._12={exports:{}},c=b.exports;b.exports={init:function(){this.name=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknown",this.OS=this.searchString(this.dataOS)||"unknown",this["is"+this.name]=this.version},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;this.versionSearchString=a[b].versionSearch||a[b].identity;if(c){if(c.indexOf(a[b].subString)!=-1)return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(b!=-1)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},b.exports.init()}(),function(){var b=a._13={exports:{}},c=b.exports,d=a._7.exports,e=a._9.exports,f=a._10.exports,g=a._1.exports,h=a._11.exports,i=a._8.exports,j=a._12.exports;b.exports=d(e,function(a){this._elTag="div",this._elType=null,this._class=null;var b={"class":null};this._init=function(c){a(this,"_init",arguments),c=f(c,b),typeof c["class"]=="string"&&(this._class=c["class"]),this._events={}},this.getElement=function(){if(this._el)return this._el;this._el=this.dom({tag:this._elTag,type:this._elType,"class":this._class}),this._createContent&&this._createContent();return this._el};var c={tag:"div"};this.dom=function(a){a=f(a,c);var b=document.createElement(a.tag);a.type&&(b.type=a.type),a.html&&(b.innerHTML=a.html),a["class"]&&(b.className=a["class"]),a.style&&this.style(b,a.style),a.value&&(b.value=a.value);return b},this._dom=this.dom,this.html=function(a,b){typeof b!="string"?this.getElement().innerHTML=a:a.innerHTML=g(arguments,1).join("");return this},this.appendTo=function(a){typeof a.getElement=="function"&&(a=a.getElement()),a.appendChild(this.getElement());return this},this.append=function(a){typeof a.getElement=="function"&&(a=a.getElement()),this.getElement().appendChild(a);return a},this.style=function(a,b){b||(b=a,a=this.getElement());var c=a.style;for(var d in b){var e=b[d];typeof e=="number"&&(e+="px"),c[d]=e}return this},this.remove=function(a){a=a||this._el;if(!a||!a.parentNode)return this;a.parentNode.removeChild(a);return this},this.display=function(a,b){b===undefined&&(b=a,a=this.getElement()),a.style.display=b?"block":"none";return this},this.show=function(a){return this.display(a instanceof Element?a:!0,a instanceof Element?!0:undefined)},this.hide=function(a){return this.display(a instanceof Element?a:!1,a instanceof Element?!1:undefined)},this.addClass=function(a,b){typeof a=="string"&&(b=a,a=this.getElement()),(" "+a.className+" ").match(" "+b+" ")||(a.className+=" "+b+" ");return this},this.removeClass=function(a,b){typeof a=="string"&&(b=a,a=this.getElement());if(a.className){b+=" ";var c=a.className,d=c.indexOf(b);d!=-1&&(a.className=c.slice(0,d)+c.slice(d+b.length))}return this},this.toggleClass=function(a,b,c){typeof a=="string"&&(c=b,b=a,a=this.getElement()),c===undefined&&(c=!this.hasClass(a,b));if(c==this.hasClass(a,b))return this;c?this.addClass(a,b):this.removeClass(a,b);return this},this.hasClass=function(a,b){arguments.length==1&&(b=a,a=this.getElement());return!!a.className.match(" "+b+" ")},this._on=function(a,b,c){arguments.length==2&&(c=b,b=a,a=this._el);var d=this._events[b];if(d)d.push(c);else{this._events[b]=[c];var e=this._events[b+"__handler__"]=i(this,"_onEvent",b);a.addEventListener?a.addEventListener(b=="mousewheel"&&j.isFirefox?"MozMousePixelScroll":b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e)}return this},this._onEvent=function(a,b){b=b||event;var c={keyCode:b.keyCode,metaKey:b.metaKey,target:b.target||b.srcElement};a=="mousewheel"&&(typeof b.wheelDeltaX=="number"?(c.dx=-b.wheelDeltaX,c.dy=-b.wheelDeltaY):b.wheelDelta?c.dy=-b.wheelDelta:b.detail&&(b.axis==b.HORIZONTAL_AXIS&&(c.dx=b.detail),b.axis==b.VERTICAL_AXIS&&(c.dy=b.detail))),typeof b.pageX=="number"?(c.x=b.pageX,c.y=b.pageY):typeof b.clientX=="number"&&(c.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop),c.cancel=function(){b.preventDefault?b.preventDefault():b.returnValue=!1},b.type=="keypress"&&(c.charCode=c.charCode==13&&c.keyCode==13?0:b.charCode);var d=this._events[a];for(var e=0;e<d.length;e++)d[e](c)},this._off=function(a,b,c){arguments.length==2&&(c=b,b=a,a=this._el);if(c)h(this._events[b],c);else{var d=this._events[b+"__handler__"];delete this._events[b],delete this._events[b+"__handler__"],a.removeEventListener?a.removeEventListener(b,d,!1):a.detachEvent&&a.detachEvent("on"+b,d)}return this},this._delegateOn=function(a,b,c){arguments.length==2&&(c=b,b=a,a=this._el),this._on(a,b,i(this,"_onDelegatedEvent",c))},this._onDelegatedEvent=function(a,b){var c=b.target;while(c){if(!c.delegateID){c=c.parentNode;continue}a(c.delegateID,c);return}},this.layout=function(a){a||(a=this._el);var b=window;if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),d=a.ownerDocument,e=d.body,f=d.documentElement,g=f.clientTop||e.clientTop||0,h=f.clientLeft||e.clientLeft||0,i=c.top+(b.pageYOffset||f.scrollTop||e.scrollTop)-g,j=c.left+(b.pageXOffset||f.scrollLeft||e.scrollLeft)-h;return{y:i,x:j,w:c.right-c.left,h:c.bottom-c.top}}var k=arguments.callee.offset;if(!k){var e=document.body,l=document.createElement("div"),m,n,o,p,q,r,s=e.style.marginTop,t='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';q={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(r in q)l.style[r]=q[r];l.innerHTML=t,e.insertBefore(l,e.firstChild),m=l.firstChild,n=m.firstChild,p=m.nextSibling.firstChild.firstChild;var k={};k.doesNotAddBorder=n.offsetTop!==5,k.doesAddBorderForTableAndCells=p.offsetTop===5,m.style.overflow="hidden",m.style.position="relative",k.subtractsBorderForOverflowNotVisible=n.offsetTop===-5,e.style.marginTop="1px",k.doesNotIncludeMarginInBodyOffset=e.offsetTop===0,e.style.marginTop=s,e.removeChild(l),arguments.callee.offset=k}var u=a.offsetHeight,v=a.offsetWidth,w=a.offsetParent,x=a,d=a.ownerDocument,y,f=d.documentElement,e=d.body,z=d.defaultView,A=z.getComputedStyle(a,null),i=a.offsetTop,j=a.offsetLeft;while((a=a.parentNode)&&a!==e&&a!==f)y=z.getComputedStyle(a,null),i-=a.scrollTop,j-=a.scrollLeft,a===w&&(i+=a.offsetTop,j+=a.offsetLeft,k.doesNotAddBorder&&(!k.doesAddBorderForTableAndCells||!/^t(able|d|h)$/i.test(a.tagName))&&(i+=parseInt(y.borderTopWidth,10)||0,j+=parseInt(y.borderLeftWidth,10)||0),x=w,w=a.offsetParent),k.subtractsBorderForOverflowNotVisible&&y.overflow!=="visible"&&(i+=parseInt(y.borderTopWidth,10)||0,j+=parseInt(y.borderLeftWidth,10)||0),A=y;if(A.position==="relative"||A.position==="static")i+=e.offsetTop,j+=e.offsetLeft;A.position==="fixed"&&(i+=Math.max(f.scrollTop,e.scrollTop),j+=Math.max(f.scrollLeft,e.scrollLeft));return{y:i,x:j,w:v,h:u}};var b={threshold:5};this._makeDraggable=function(a){a=f(a,b),this._on("mousedown",i(this,"_onDragMouseDown",a));return this},this._onDragMouseDown=function(a,b){b.cancel(),this._drag={pastThreshold:!1,start:{x:b.x,y:b.y},last:{x:b.x,y:b.y}},this._dragMouseMoveHandler=i(this,"_onDragMouseMove",a),this._dragMouseUpHandler=i(this,"_onDragMouseUp"),this._on(document,"mousemove",this._dragMouseMoveHandler)._on(document,"mouseup",this._dragMouseUpHandler)},this._onDragMouseMove=function(a,b){var c=this._getDragData(b);this._drag.pastThreshold?this._publish("drag",c):c.dx^2+c.dy^2>a.threshold^2&&(this._drag.pastThreshold=!0,this._publish("drag",c))},this._onDragMouseUp=function(a){var b=this._getDragData(a);delete this._drag,this._off(document,"mousemove",this._dragMouseMoveHandler)._off(document,"mouseup",this._dragMouseUpHandler),this._publish("drop",b)},this._getDragData=function(a){var b=this._drag,c=b.start,d=b.last,e={src:{x:c.x,y:c.y},dst:{x:a.x,y:a.y},offset:{x:a.x-c.x,y:a.y-c.y},delta:{x:a.x-d.x,y:a.y-d.y}};d.x=a.x,d.y=a.y;return e}})}(),function(){var b=a._14={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._4.exports,g=a._8.exports;b.exports=d(e,function(a){this._init=function(){a(this,"_init",arguments),this._tabs=[],this._views=[]},this.addTab=function(a){this._views.push(a);return this},this._createContent=function(){this.addClass("TabContainer"),this._head=this.append(this.dom({"class":"head"}));var a=this.append(this.dom({"class":"container"}));this._body=a.appendChild(this.dom({"class":"body"})),f(this._views,g(this,"_renderTab"))},this._renderTab=function(a,b){var c=this.dom({"class":"Button tab",html:a.getTitle()});this._tabs[b]=this._head.appendChild(c),this._on(c,"click",g(this,"selectTab",b))},this.selectTab=function(a){if(this._index!==undefined){var b=this._views[this._index],c=this._tabs[this._index];this.removeClass(c,"selected"),b.hide()}this._index=a,this.addClass(this._tabs[this._index],"selected"),this._views[this._index].appendTo(this._body).show()}})}(),function(){var b=a._15={exports:{}},c=b.exports,d=a._1.exports;b.exports=function(a){var b=d(arguments,1);return function(c){var e=c[a],f=b.concat(d(arguments,1));return e.apply(c,f)}}}(),function(){var b=a._16={exports:{}},c=b.exports;(function(){function cD(a,b,c,d,e,f){function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){f=m(e)-a;if(C(f)<b)return e;j=(3*i*e+2*h)*e+g;if(C(j)<1e-6)break;e=e-f/j}c=0,d=1,e=a;if(e<c)return c;if(e>d)return d;while(c<d){f=m(e);if(C(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function m(a){return((i*a+h)*a+g)*a}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function cC(b){return function(c,d,e,f){var g={back:b};a.is(e,"function")?f=e:g.rot=e,c&&c.constructor==bO&&(c=c.attrs.path),c&&(g.along=c);return this.animate(g,d,f)}}function cq(){return this.x+r+this.y}function bn(a,b,c){function d(){var e=Array[f].slice.call(arguments,0),h=e[w]("►"),i=d.cache=d.cache||{},j=d.count=d.count||[];if(i[g](h))return c?c(i[h]):i[h];j[x]>=1e3&&delete i[j.shift()],j[M](h),i[h]=a[n](b,e);return c?c(i[h]):i[h]}return d}function bi(){var a=[],b=0;for(;b<32;b++)a[b]=(~~(z.random()*16))[I](16);a[12]=4,a[16]=(a[16]&3|8)[I](16);return"r-"+a[w]("")}function a(){if(a.is(arguments[0],H)){var b=arguments[0],c=bW[n](a,b.splice(0,3+a.is(b[0],F))),e=c.set();for(var f=0,h=b[x];f<h;f++){var i=b[f]||{};d[g](i.type)&&e[M](c[i.type]().attr(i))}return e}return bW[n](a,arguments)}a.version="1.5.2";var c=/[, ]+/,d={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\{(\d+)\}/g,f="prototype",g="hasOwnProperty",h=document,i=window,j={was:Object[f][g].call(i,"Raphael"),is:i.Raphael},k=function(){this.customAttributes={}},l,m="appendChild",n="apply",o="concat",p="createTouch"in h,q="",r=" ",s=String,t="split",u="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[t](r),v={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="join",x="length",y=s[f].toLowerCase,z=Math,A=z.max,B=z.min,C=z.abs,D=z.pow,E=z.PI,F="number",G="string",H="array",I="toString",J="fill",K=Object[f][I],L={},M="push",N=/^url\(['"]?([^\)]+?)['"]?\)$/i,O=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,P={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,R=z.round,S="setAttribute",T=parseFloat,U=parseInt,V=" progid:DXImageTransform.Microsoft",W=s[f].toUpperCase,X={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Y={along:"along",blur:F,"clip-rect":"csv",cx:F,cy:F,fill:"colour","fill-opacity":F,"font-size":F,height:F,opacity:F,path:"path",r:F,rotation:"csv",rx:F,ry:F,scale:"csv",stroke:"colour","stroke-opacity":F,"stroke-width":F,translation:"csv",width:F,x:F,y:F},Z="replace",$=/^(from|to|\d+%?)$/,_=/\s*,\s*/,ba={hs:1,rg:1},bb=/,?([achlmqrstvxz]),?/gi,bc=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,bd=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,be=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,bf=function(a,b){return a.key-b.key};a.type=i.SVGAngle||h.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var bg=h.createElement("div"),bh;bg.innerHTML='<v:shape adj="1"/>',bh=bg.firstChild,bh.style.behavior="url(#default#VML)";if(!bh||typeof bh.adj!="object")return a.type=null;bg=null}a.svg=!(a.vml=a.type=="VML"),k[f]=a[f],l=k[f],a._id=0,a._oid=0,a.fn={},a.is=function(a,b){b=y.call(b);if(b=="finite")return!P[g](+a);return b=="null"&&a===null||b==typeof a||b=="object"&&a===Object(a)||b=="array"&&Array.isArray&&Array.isArray(a)||K.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(f==null){var h=b-d,i=c-e;if(!h&&!i)return 0;return((h<0)*180+z.atan(-i/-h)*180/E+360)%360}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*E/180},a.deg=function(a){return a*180/E%360},a.snapTo=function(b,c,d){d=a.is(d,"finite")?d:10;if(a.is(b,H)){var e=b.length;while(e--)if(C(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(f<d)return c-f;if(f>b-d)return c-f+b}return c},a.setWindow=function(a){i=a,h=i.document};var bj=function(b){if(a.vml){var c=/^\s+|\s+$/g,d;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),d=e.body}catch(f){d=createPopup().document.body}var g=d.createTextRange();bj=bn(function(a){try{d.style.color=s(a)[Z](c,q);var b=g.queryCommandValue("ForeColor");b=(b&255)<<16|b&65280|(b&16711680)>>>16;return"#"+("000000"+b[I](16)).slice(-6)}catch(e){return"none"}})}else{var i=h.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",h.body[m](i),bj=bn(function(a){i.style.color=a;return h.defaultView.getComputedStyle(i,q).getPropertyValue("color")})}return bj(b)},bk=function(){return"hsb("+[this.h,this.s,this.b]+")"},bl=function(){return"hsl("+[this.h,this.s,this.l]+")"},bm=function(){return this.hex};a.hsb2rgb=function(b,c,d,e){a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b&&(d=b.b,c=b.s,b=b.h,e=b.o);return a.hsl2rgb(b,c,d/2,e)},a.hsl2rgb=function(b,c,d,e){a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b&&(d=b.l,c=b.s,b=b.h);if(b>1||c>1||d>1)b/=360,c/=100,d/=100;var f={},g=["r","g","b"],h,i,j,k,l,m;if(!c)f={r:d,g:d,b:d};else{d<.5?h=d*(1+c):h=d+c-d*c,i=2*d-h;for(var n=0;n<3;n++)j=b+1/3*-(n-1),j<0&&j++,j>1&&j--,j*6<1?f[g[n]]=i+(h-i)*6*j:j*2<1?f[g[n]]=h:j*3<2?f[g[n]]=i+(h-i)*(2/3-j)*6:f[g[n]]=i}f.r*=255,f.g*=255,f.b*=255,f.hex="#"+(16777216|f.b|f.g<<8|f.r<<16).toString(16).slice(1),a.is(e,"finite")&&(f.opacity=e),f.toString=bm;return f},a.rgb2hsb=function(b,c,d){c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);if(c==null&&a.is(b,G)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}if(b>1||c>1||d>1)b/=255,c/=255,d/=255;var f=A(b,c,d),g=B(b,c,d),h,i,j=f;if(g==f)return{h:0,s:0,b:f,toString:bk};var k=f-g;i=k/f,b==f?h=(c-d)/k:c==f?h=2+(d-b)/k:h=4+(b-c)/k,h/=6,h<0&&h++,h>1&&h--;return{h:h,s:i,b:j,toString:bk}},a.rgb2hsl=function(b,c,d){c==null&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);if(c==null&&a.is(b,G)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}if(b>1||c>1||d>1)b/=255,c/=255,d/=255;var f=A(b,c,d),g=B(b,c,d),h,i,j=(f+g)/2,k;if(g==f)k={h:0,s:0,l:j};else{var l=f-g;i=j<.5?l/(f+g):l/(2-f-g),b==f?h=(c-d)/l:c==f?h=2+(d-b)/l:h=4+(b-c)/l,h/=6,h<0&&h++,h>1&&h--,k={h:h,s:i,l:j}}k.toString=bl;return k},a._path2string=function(){return this.join(",")[Z](bb,"$1")},a.getRGB=bn(function(b){if(!b||!!((b=s(b)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(b=="none")return{r:-1,g:-1,b:-1,hex:"none"};!ba[g](b.toLowerCase().substring(0,2))&&b.charAt()!="#"&&(b=bj(b));var c,d,e,f,h,i,j,k=b.match(O);if(k){k[2]&&(f=U(k[2].substring(5),16),e=U(k[2].substring(3,5),16),d=U(k[2].substring(1,3),16)),k[3]&&(f=U((i=k[3].charAt(3))+i,16),e=U((i=k[3].charAt(2))+i,16),d=U((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][t](_),d=T(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=T(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),f=T(j[2]),j[2].slice(-1)=="%"&&(f*=2.55),k[1].toLowerCase().slice(0,4)=="rgba"&&(h=T(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100));if(k[5]){j=k[5][t](_),d=T(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=T(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),f=T(j[2]),j[2].slice(-1)=="%"&&(f*=2.55),(j[0].slice(-3)=="deg"||j[0].slice(-1)=="°")&&(d/=360),k[1].toLowerCase().slice(0,4)=="hsba"&&(h=T(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100);return a.hsb2rgb(d,e,f,h)}if(k[6]){j=k[6][t](_),d=T(j[0]),j[0].slice(-1)=="%"&&(d*=2.55),e=T(j[1]),j[1].slice(-1)=="%"&&(e*=2.55),f=T(j[2]),j[2].slice(-1)=="%"&&(f*=2.55),(j[0].slice(-3)=="deg"||j[0].slice(-1)=="°")&&(d/=360),k[1].toLowerCase().slice(0,4)=="hsla"&&(h=T(j[3])),j[3]&&j[3].slice(-1)=="%"&&(h/=100);return a.hsl2rgb(d,e,f,h)}k={r:d,g:e,b:f},k.hex="#"+(16777216|f|e<<8|d<<16).toString(16).slice(1),a.is(h,"finite")&&(k.opacity=h);return k}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b}));return c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=bn(function(b){if(!b)return null;var c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[];a.is(b,H)&&a.is(b[0],H)&&(d=bp(b)),d[x]||s(b)[Z](bc,function(a,b,e){var f=[],g=y.call(b);e[Z](bd,function(a,b){b&&f[M](+b)}),g=="m"&&f[x]>2&&(d[M]([b][o](f.splice(0,2))),g="l",b=b=="m"?"l":"L");while(f[x]>=c[g]){d[M]([b][o](f.splice(0,c[g])));if(!c[g])break}}),d[I]=a._path2string;return d}),a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=D(j,3)*a+D(j,2)*3*i*c+j*3*i*i*e+D(i,3)*g,l=D(j,3)*b+D(j,2)*3*i*d+j*3*i*i*f+D(i,3)*h,m=a+2*i*(c-a)+i*i*(e-2*c+a),n=b+2*i*(d-b)+i*i*(f-2*d+b),o=c+2*i*(e-c)+i*i*(g-2*e+c),p=d+2*i*(f-d)+i*i*(h-2*f+d),q=(1-i)*a+i*c,r=(1-i)*b+i*d,s=(1-i)*e+i*g,t=(1-i)*f+i*h,u=90-z.atan((m-o)/(n-p))*180/E;(m>o||n<p)&&(u+=180);return{x:k,y:l,m:{x:m,y:n},n:{x:o,y:p},start:{x:q,y:r},end:{x:s,y:t},alpha:u}};var bo=bn(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=bx(a);var b=0,c=0,d=[],e=[],f;for(var g=0,h=a[x];g<h;g++){f=a[g];if(f[0]=="M")b=f[1],c=f[2],d[M](b),e[M](c);else{var i=bw(b,c,f[1],f[2],f[3],f[4],f[5],f[6]);d=d[o](i.min.x,i.max.x),e=e[o](i.min.y,i.max.y),b=f[5],c=f[6]}}var j=B[n](0,d),k=B[n](0,e);return{x:j,y:k,width:A[n](0,d)-j,height:A[n](0,e)-k}}),bp=function(b){var c=[];if(!a.is(b,H)||!a.is(b&&b[0],H))b=a.parsePathString(b);for(var d=0,e=b[x];d<e;d++){c[d]=[];for(var f=0,g=b[d][x];f<g;f++)c[d][f]=b[d][f]}c[I]=a._path2string;return c},bq=bn(function(b){if(!a.is(b,H)||!a.is(b&&b[0],H))b=a.parsePathString(b);var c=[],d=0,e=0,f=0,g=0,h=0;b[0][0]=="M"&&(d=b[0][1],e=b[0][2],f=d,g=e,h++,c[M](["M",d,e]));for(var i=h,j=b[x];i<j;i++){var k=c[i]=[],l=b[i];if(l[0]!=y.call(l[0])){k[0]=y.call(l[0]);switch(k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l[x];m<n;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}}else{k=c[i]=[],l[0]=="m"&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l[x];o<p;o++)c[i][o]=l[o]}var q=c[i][x];switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}c[I]=a._path2string;return c},0,bp),br=bn(function(b){if(!a.is(b,H)||!a.is(b&&b[0],H))b=a.parsePathString(b);var c=[],d=0,e=0,f=0,g=0,h=0;b[0][0]=="M"&&(d=+b[0][1],e=+b[0][2],f=d,g=e,h++,c[0]=["M",d,e]);for(var i=h,j=b[x];i<j;i++){var k=c[i]=[],l=b[i];if(l[0]!=W.call(l[0])){k[0]=W.call(l[0]);switch(k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+d),k[7]=+(l[7]+e);break;case"V":k[1]=+l[1]+e;break;case"H":k[1]=+l[1]+d;break;case"M":f=+l[1]+d,g=+l[2]+e;default:for(var m=1,n=l[x];m<n;m++)k[m]=+l[m]+(m%2?d:e)}}else for(var o=0,p=l[x];o<p;o++)c[i][o]=l[o];switch(k[0]){case"Z":d=f,e=g;break;case"H":d=k[1];break;case"V":e=k[1];break;case"M":f=c[i][c[i][x]-2],g=c[i][c[i][x]-1];default:d=c[i][c[i][x]-2],e=c[i][c[i][x]-1]}}c[I]=a._path2string;return c},null,bp),bs=function(a,b,c,d){return[a,b,c,d,c,d]},bt=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},bu=function(a,b,c,d,e,f,g,h,i,j){var k=E*120/180,l=E/180*(+e||0),m=[],n,p=bn(function(a,b,c){var d=a*z.cos(c)-b*z.sin(c),e=a*z.sin(c)+b*z.cos(c);return{x:d,y:e}});if(!j){n=p(a,b,-l),a=n.x,b=n.y,n=p(h,i,-l),h=n.x,i=n.y;var q=z.cos(E/180*e),r=z.sin(E/180*e),s=(a-h)/2,u=(b-i)/2,v=s*s/(c*c)+u*u/(d*d);v>1&&(v=z.sqrt(v),c=v*c,d=v*d);var y=c*c,A=d*d,B=(f==g?-1:1)*z.sqrt(C((y*A-y*u*u-A*s*s)/(y*u*u+A*s*s))),D=B*c*u/d+(a+h)/2,F=B*-d*s/c+(b+i)/2,G=z.asin(((b-F)/d).toFixed(9)),H=z.asin(((i-F)/d).toFixed(9));G=a<D?E-G:G,H=h<D?E-H:H,G<0&&(G=E*2+G),H<0&&(H=E*2+H),g&&G>H&&(G=G-E*2),!g&&H>G&&(H=H-E*2)}else G=j[0],H=j[1],D=j[2],F=j[3];var I=H-G;if(C(I)>k){var J=H,K=h,L=i;H=G+k*(g&&H>G?1:-1),h=D+c*z.cos(H),i=F+d*z.sin(H),m=bu(h,i,c,d,e,0,g,K,L,[H,J,D,F])}I=H-G;var M=z.cos(G),N=z.sin(G),O=z.cos(H),P=z.sin(H),Q=z.tan(I/4),R=4/3*c*Q,S=4/3*d*Q,T=[a,b],U=[a+R*N,b-S*M],V=[h+R*P,i-S*O],W=[h,i];U[0]=2*T[0]-U[0],U[1]=2*T[1]-U[1];if(j)return[U,V,W][o](m);m=[U,V,W][o](m)[w]()[t](",");var X=[];for(var Y=0,Z=m[x];Y<Z;Y++)X[Y]=Y%2?p(m[Y-1],m[Y],l).y:p(m[Y],m[Y+1],l).x;return X},bv=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:D(j,3)*a+D(j,2)*3*i*c+j*3*i*i*e+D(i,3)*g,y:D(j,3)*b+D(j,2)*3*i*d+j*3*i*i*f+D(i,3)*h}},bw=bn(function(a,b,c,d,e,f,g,h){var i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+z.sqrt(j*j-4*i*k))/2/i,m=(-j-z.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g],q;C(l)>"1e12"&&(l=.5),C(m)>"1e12"&&(m=.5),l>0&&l<1&&(q=bv(a,b,c,d,e,f,g,h,l),p[M](q.x),o[M](q.y)),m>0&&m<1&&(q=bv(a,b,c,d,e,f,g,h,m),p[M](q.x),o[M](q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+z.sqrt(j*j-4*i*k))/2/i,m=(-j-z.sqrt(j*j-4*i*k))/2/i,C(l)>"1e12"&&(l=.5),C(m)>"1e12"&&(m=.5),l>0&&l<1&&(q=bv(a,b,c,d,e,f,g,h,l),p[M](q.x),o[M](q.y)),m>0&&m<1&&(q=bv(a,b,c,d,e,f,g,h,m),p[M](q.x),o[M](q.y));return{min:{x:B[n](0,p),y:B[n](0,o)},max:{x:A[n](0,p),y:A[n](0,o)}}}),bx=bn(function(a,b){var c=br(a),d=b&&br(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][o](bu[n](0,[b.x,b.y][o](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][o](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][o](bt(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][o](bt(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][o](bs(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][o](bs(b.x,b.y,a[1],b.y));break;case"V":a=["C"][o](bs(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][o](bs(b.x,b.y,b.X,b.Y))}return a},h=function(a,b){if(a[b][x]>7){a[b].shift();var e=a[b];while(e[x])a.splice(b++,0,["C"][o](e.splice(0,6)));a.splice(b,1),k=A(c[x],d&&d[x]||0)}},i=function(a,b,e,f,g){a&&b&&a[g][0]=="M"&&b[g][0]!="M"&&(b.splice(g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],k=A(c[x],d&&d[x]||0))};for(var j=0,k=A(c[x],d&&d[x]||0);j<k;j++){c[j]=g(c[j],e),h(c,j),d&&(d[j]=g(d[j],f)),d&&h(d,j),i(c,d,e,f,j),i(d,c,f,e,j);var l=c[j],m=d&&d[j],p=l[x],q=d&&m[x];e.x=l[p-2],e.y=l[p-1],e.bx=T(l[p-4])||e.x,e.by=T(l[p-3])||e.y,f.bx=d&&(T(m[q-4])||f.x),f.by=d&&(T(m[q-3])||f.y),f.x=d&&m[q-2],f.y=d&&m[q-1]}return d?[c,d]:c},null,bp),by=bn(function(b){var c=[];for(var d=0,e=b[x];d<e;d++){var f={},g=b[d].match(/^([^:]*):?([\d\.]*)/);f.color=a.getRGB(g[1]);if(f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c[M](f)}for(d=1,e=c[x]-1;d<e;d++)if(!c[d].offset){var h=T(c[d-1].offset||0),i=0;for(var j=d+1;j<e;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=T(i);var k=(i-h)/(j-d+1);for(;d<j;d++)h+=k,c[d].offset=h+"%"}return c}),bz=function(b,c,d,e){var f;if(!a.is(b,G)&&!a.is(b,"object"))return{container:1,x:b,y:c,width:d,height:e};f=a.is(b,G)?h.getElementById(b):b;if(f.tagName)return c==null?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}},bA=function(a,b){var c=this;for(var d in b)if(b[g](d)&&!(d in a))switch(typeof b[d]){case"function":(function(b){a[d]=a===c?b:function(){return b[n](c,arguments)}})(b[d]);break;case"object":a[d]=a[d]||{},bA.call(this,a[d],b[d]);break;default:a[d]=b[d]}},bB=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)},bC=function(a,b){b.top!==a&&(bB(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},bD=function(a,b){b.bottom!==a&&(bB(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},bE=function(a,b,c){bB(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},bF=function(a,b,c){bB(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},bG=function(a){return function(){throw new Error("Raphaël: you are calling to method “"+a+"” of removed object")}};a.pathToRelative=bq;if(a.svg){l.svgns="http://www.w3.org/2000/svg",l.xlink="http://www.w3.org/1999/xlink",R=function(a){return+a+(~~a===a)*.5};var bH=function(a,b){if(!b){a=h.createElementNS(l.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}for(var c in b)b[g](c)&&a[S](c,s(b[c]))};a[I]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var bI=function(a,b){var c=bH("path");b.canvas&&b.canvas[m](c);var d=new bO(c,b);d.type="path",bL(d,{fill:"none",stroke:"#000",path:a});return d},bJ=function(a,b,c){var d="linear",e=.5,f=.5,g=a.style;b=s(b)[Z](be,function(a,b,c){d="radial";if(b&&c){e=T(b),f=T(c);var g=(f>.5)*2-1;D(e-.5,2)+D(f-.5,2)>.25&&(f=z.sqrt(.25-D(e-.5,2))*g+.5)&&f!=.5&&(f=f.toFixed(5)-1e-5*g)}return q}),b=b[t](/\s*\-\s*/);if(d=="linear"){var i=b.shift();i=-T(i);if(isNaN(i))return null;var j=[0,0,z.cos(i*E/180),z.sin(i*E/180)],k=1/(A(C(j[2]),C(j[3]))||1);j[2]*=k,j[3]*=k,j[2]<0&&(j[0]=-j[2],j[2]=0),j[3]<0&&(j[1]=-j[3],j[3]=0)}var l=by(b);if(!l)return null;var n=a.getAttribute(J);n=n.match(/^url\(#(.*)\)$/),n&&c.defs.removeChild(h.getElementById(n[1]));var o=bH(d+"Gradient");o.id=bi(),bH(o,d=="radial"?{fx:e,fy:f}:{x1:j[0],y1:j[1],x2:j[2],y2:j[3]}),c.defs[m](o);for(var p=0,r=l[x];p<r;p++){var u=bH("stop");bH(u,{offset:l[p].offset?l[p].offset:p?"100%":"0%","stop-color":l[p].color||"#fff"}),o[m](u)}bH(a,{fill:"url(#"+o.id+")",opacity:1,"fill-opacity":1}),g.fill=q,g.opacity=1,g.fillOpacity=1;return 1},bK=function(b){var c=b.getBBox();bH(b.pattern,{patternTransform:a.format("translate({0},{1})",c.x,c.y)})},bL=function(b,d){var e={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},f=b.node,i=b.attrs,j=b.rotate(),k=function(a,b){b=e[y.call(b)];if(b){var c=a.attrs["stroke-width"]||"1",g={round:c,square:c,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,h=[],i=b[x];while(i--)h[i]=b[i]*c+(i%2?1:-1)*g;bH(f,{"stroke-dasharray":h[w](",")})}};d[g]("rotation")&&(j=d.rotation);var l=s(j)[t](c);l.length-1?(l[1]=+l[1],l[2]=+l[2]):l=null,T(j)&&b.rotate(0,!0);for(var n in d)if(d[g](n)){if(!X[g](n))continue;var o=d[n];i[n]=o;switch(n){case"blur":b.blur(o);break;case"rotation":b.rotate(o,!0);break;case"href":case"title":case"target":var p=f.parentNode;if(y.call(p.tagName)!="a"){var u=bH("a");p.insertBefore(u,f),u[m](f),p=u}n=="target"&&o=="blank"?p.setAttributeNS(b.paper.xlink,"show","new"):p.setAttributeNS(b.paper.xlink,n,o);break;case"cursor":f.style.cursor=o;break;case"clip-rect":var v=s(o)[t](c);if(v[x]==4){b.clip&&b.clip.parentNode.parentNode.removeChild(b.clip.parentNode);var z=bH("clipPath"),A=bH("rect");z.id=bi(),bH(A,{x:v[0],y:v[1],width:v[2],height:v[3]}),z[m](A),b.paper.defs[m](z),bH(f,{"clip-path":"url(#"+z.id+")"}),b.clip=A}if(!o){var B=h.getElementById(f.getAttribute("clip-path")[Z](/(^url\(#|\)$)/g,q));B&&B.parentNode.removeChild(B),bH(f,{"clip-path":q}),delete b.clip}break;case"path":b.type=="path"&&bH(f,{d:o?i.path=br(o):"M0,0"});break;case"width":f[S](n,o);if(i.fx)n="x",o=i.x;else break;case"x":i.fx&&(o=-i.x-(i.width||0));case"rx":if(n=="rx"&&b.type=="rect")break;case"cx":l&&(n=="x"||n=="cx")&&(l[1]+=o-i[n]),f[S](n,o),b.pattern&&bK(b);break;case"height":f[S](n,o);if(i.fy)n="y",o=i.y;else break;case"y":i.fy&&(o=-i.y-(i.height||0));case"ry":if(n=="ry"&&b.type=="rect")break;case"cy":l&&(n=="y"||n=="cy")&&(l[2]+=o-i[n]),f[S](n,o),b.pattern&&bK(b);break;case"r":b.type=="rect"?bH(f,{rx:o,ry:o}):f[S](n,o);break;case"src":b.type=="image"&&f.setAttributeNS(b.paper.xlink,"href",o);break;case"stroke-width":f.style.strokeWidth=o,f[S](n,o),i["stroke-dasharray"]&&k(b,i["stroke-dasharray"]);break;case"stroke-dasharray":k(b,o);break;case"translation":var C=s(o)[t](c);C[0]=+C[0]||0,C[1]=+C[1]||0,l&&(l[1]+=C[0],l[2]+=C[1]),cB.call(b,C[0],C[1]);break;case"scale":C=s(o)[t](c),b.scale(+C[0]||1,+C[1]||+C[0]||1,isNaN(T(C[2]))?null:+C[2],isNaN(T(C[3]))?null:+C[3]);break;case J:var D=s(o).match(N);if(D){z=bH("pattern");var E=bH("image");z.id=bi(),bH(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),bH(E,{x:0,y:0}),E.setAttributeNS(b.paper.xlink,"href",D[1]),z[m](E);var F=h.createElement("img");F.style.cssText="position:absolute;left:-9999em;top-9999em",F.onload=function(){bH(z,{width:this.offsetWidth,height:this.offsetHeight}),bH(E,{width:this.offsetWidth,height:this.offsetHeight}),h.body.removeChild(this),b.paper.safari()},h.body[m](F),F.src=D[1],b.paper.defs[m](z),f.style.fill="url(#"+z.id+")",bH(f,{fill:"url(#"+z.id+")"}),b.pattern=z,b.pattern&&bK(b);break}var G=a.getRGB(o);if(!G.error)delete d.gradient,delete i.gradient,!a.is(i.opacity,"undefined")&&a.is(d.opacity,"undefined")&&bH(f,{opacity:i.opacity}),!a.is(i["fill-opacity"],"undefined")&&a.is(d["fill-opacity"],"undefined")&&bH(f,{"fill-opacity":i["fill-opacity"]});else if(({circle:1,ellipse:1}[g](b.type)||s(o).charAt()!="r")&&bJ(f,o,b.paper)){i.gradient=o,i.fill="none";break}G[g]("opacity")&&bH(f,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case"stroke":G=a.getRGB(o),f[S](n,G.hex),n=="stroke"&&G[g]("opacity")&&bH(f,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity});break;case"gradient":(({circle:1,ellipse:1})[g](b.type)||s(o).charAt()!="r")&&bJ(f,o,b.paper);break;case"opacity":i.gradient&&!i[g]("stroke-opacity")&&bH(f,{"stroke-opacity":o>1?o/100:o});case"fill-opacity":if(i.gradient){var H=h.getElementById(f.getAttribute(J)[Z](/^url\(#|\)$/g,q));if(H){var I=H.getElementsByTagName("stop");I[I[x]-1][S]("stop-opacity",o)}break};default:n=="font-size"&&(o=U(o,10)+"px");var K=n[Z](/(\-.)/g,function(a){return W.call(a.substring(1))});f.style[K]=o,f[S](n,o)}}bN(b,d),l?b.rotate(l.join(r)):T(j)&&b.rotate(j,!0)},bM=1.2,bN=function(b,c){if(b.type=="text"&&!!(c[g]("text")||c[g]("font")||c[g]("font-size")||c[g]("x")||c[g]("y"))){var d=b.attrs,e=b.node,f=e.firstChild?U(h.defaultView.getComputedStyle(e.firstChild,q).getPropertyValue("font-size"),10):10;if(c[g]("text")){d.text=c.text;while(e.firstChild)e.removeChild(e.firstChild);var i=s(c.text)[t]("\n");for(var j=0,k=i[x];j<k;j++)if(i[j]){var l=bH("tspan");j&&bH(l,{dy:f*bM,x:d.x}),l[m](h.createTextNode(i[j])),e[m](l)}}else{i=e.getElementsByTagName("tspan");for(j=0,k=i[x];j<k;j++)j&&bH(i[j],{dy:f*bM,x:d.x})}bH(e,{y:d.y});var n=b.getBBox(),o=d.y-(n.y+n.height/2);o&&a.is(o,"finite")&&bH(e,{y:d.y+o})}},bO=function(b,c){var d=0,e=0;this[0]=b,this.id=a._oid++,this.node=b,b.raphael=this,this.paper=c,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},bP=bO[f];bO[f].rotate=function(b,d,e){if(this.removed)return this;if(b==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](r);return this._.rt.deg}var f=this.getBBox();b=s(b)[t](c),b[x]-1&&(d=T(b[1]),e=T(b[2])),b=T(b[0]),d!=null&&d!==!1?this._.rt.deg=b:this._.rt.deg+=b,e==null&&(d=null),this._.rt.cx=d,this._.rt.cy=e,d=d==null?f.x+f.width/2:d,e=e==null?f.y+f.height/2:e,this._.rt.deg?(this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,d,e),this.clip&&bH(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,d,e)})):(this.transformations[0]=q,this.clip&&bH(this.clip,{transform:q})),bH(this.node,{transform:this.transformations[w](r)});return this},bO[f].hide=function(){!this.removed&&(this.node.style.display="none");return this},bO[f].show=function(){!this.removed&&(this.node.style.display="");return this},bO[f].remove=function(){if(!this.removed){bB(this,this.paper),this.node.parentNode&&this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}},bO[f].getBBox=function(){if(this.removed)return this;if(this.type=="path")return bo(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var d=0,e=this.node.getNumberOfChars();d<e;d++){var f=this.node.getExtentOfChar(d);f.y<b.y&&(b.y=f.y),f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y),f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}}a&&this.hide();return b},bO[f].attr=function(b,c){if(this.removed)return this;if(b==null){var d={};for(var e in this.attrs)this.attrs[g](e)&&(d[e]=this.attrs[e]);this._.rt.deg&&(d.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(d.scale=this.scale()),d.gradient&&d.fill=="none"&&(d.fill=d.gradient)&&delete d.gradient;return d}if(c==null&&a.is(b,G)){if(b=="translation")return cB.call(this);if(b=="rotation")return this.rotate();if(b=="scale")return this.scale();if(b==J&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[b]}if(c==null&&a.is(b,H)){var f={};for(var h=0,i=b.length;h<i;h++)f[b[h]]=this.attr(b[h]);return f}if(c!=null){var j={};j[b]=c}else b!=null&&a.is(b,"object")&&(j=b);for(var k in this.paper.customAttributes)if(this.paper.customAttributes[g](k)&&j[g](k)&&a.is(this.paper.customAttributes[k],"function")){var l=this.paper.customAttributes[k].apply(this,[][o](j[k]));this.attrs[k]=j[k];for(var m in l)l[g](m)&&(j[m]=l[m])}bL(this,j);return this},bO[f].toFront=function(){if(this.removed)return this;this.node.parentNode[m](this.node);var a=this.paper;a.top!=this&&bC(this,a);return this},bO[f].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),bD(this,this.paper);var a=this.paper}return this},bO[f].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode[m](this.node),bE(this,a,this.paper);return this},bO[f].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b),bF(this,a,this.paper);return this},bO[f].blur=function(a){var b=this;if(+a!==0){var c=bH("filter"),d=bH("feGaussianBlur");b.attrs.blur=a,c.id=bi(),bH(d,{stdDeviation:+a||1.5}),c.appendChild(d),b.paper.defs.appendChild(c),b._blur=c,bH(b.node,{filter:"url(#"+c.id+")"})}else b._blur&&(b._blur.parentNode.removeChild(b._blur),delete b._blur,delete b.attrs.blur),b.node.removeAttribute("filter")};var bQ=function(a,b,c,d){var e=bH("circle");a.canvas&&a.canvas[m](e);var f=new bO(e,a);f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",bH(e,f.attrs);return f},bR=function(a,b,c,d,e,f){var g=bH("rect");a.canvas&&a.canvas[m](g);var h=new bO(g,a);h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",bH(g,h.attrs);return h},bS=function(a,b,c,d,e){var f=bH("ellipse");a.canvas&&a.canvas[m](f);var g=new bO(f,a);g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",bH(f,g.attrs);return g},bT=function(a,b,c,d,e,f){var g=bH("image");bH(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(a.xlink,"href",b),a.canvas&&a.canvas[m](g);var h=new bO(g,a);h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image";return h},bU=function(a,b,c,d){var e=bH("text");bH(e,{x:b,y:c,"text-anchor":"middle"}),a.canvas&&a.canvas[m](e);var f=new bO(e,a);f.attrs={x:b,y:c,"text-anchor":"middle",text:d,font:X.font,stroke:"none",fill:"#000"},f.type="text",bL(f,f.attrs);return f},bV=function(a,b){this.width=a||this.width,this.height=b||this.height,this.canvas[S]("width",this.width),this.canvas[S]("height",this.height);return this},bW=function(){var b=bz[n](0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var i=bH("svg");d=d||0,e=e||0,f=f||512,g=g||342,bH(i,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:g}),c==1?(i.style.cssText="position:absolute;left:"+d+"px;top:"+e+"px",h.body[m](i)):c.firstChild?c.insertBefore(i,c.firstChild):c[m](i),c=new k,c.width=f,c.height=g,c.canvas=i,bA.call(c,c,a.fn),c.clear();return c};l.clear=function(){var a=this.canvas;while(a.firstChild)a.removeChild(a.firstChild);this.bottom=this.top=null,(this.desc=bH("desc"))[m](h.createTextNode("Created with Raphaël")),a[m](this.desc),a[m](this.defs=bH("defs"))},l.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=bG(a)}}if(a.vml){var bX={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bY=/([clmz]),?([^clmz]*)/gi,bZ=/ progid:\S+Blur\([^\)]+\)/g,b$=/-?[^,\s-]+/g,b_=1e3+r+1e3,ca=10,cb={path:1,rect:1},cc=function(a){var b=/[ahqstv]/ig,c=br;s(a).match(b)&&(c=bx),b=/[clmz]/g;if(c==br&&!s(a).match(b)){var d=s(a)[Z](bY,function(a,b,c){var d=[],e=y.call(b)=="m",f=bX[b];c[Z](b$,function(a){e&&d[x]==2&&(f+=d+bX[b=="m"?"l":"L"],d=[]),d[M](R(a*ca))});return f+d});return d}var e=c(a),f,g;d=[];for(var h=0,i=e[x];h<i;h++){f=e[h],g=y.call(e[h][0]),g=="z"&&(g="x");for(var j=1,k=f[x];j<k;j++)g+=R(f[j]*ca)+(j!=k-1?",":q);d[M](g)}return d[w](r)};a[I]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},bI=function(a,b){var c=ce("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px",c.coordsize=b.coordsize,c.coordorigin=b.coordorigin;var d=ce("shape"),e=d.style;e.width=b.width+"px",e.height=b.height+"px",d.coordsize=b_,d.coordorigin=b.coordorigin,c[m](d);var f=new bO(d,c,b),g={fill:"none",stroke:"#000"};a&&(g.path=a),f.type="path",f.path=[],f.Path=q,bL(f,g),b.canvas[m](c);return f},bL=function(b,d){b.attrs=b.attrs||{};var e=b.node,f=b.attrs,i=e.style,j,k=(d.x!=f.x||d.y!=f.y||d.width!=f.width||d.height!=f.height||d.r!=f.r)&&b.type=="rect",l=b;for(var n in d)d[g](n)&&(f[n]=d[n]);k&&(f.path=cd(f.x,f.y,f.width,f.height,f.r),b.X=f.x,b.Y=f.y,b.W=f.width,b.H=f.height),d.href&&(e.href=d.href),d.title&&(e.title=d.title),d.target&&(e.target=d.target),d.cursor&&(i.cursor=d.cursor),"blur"in d&&b.blur(d.blur);if(d.path&&b.type=="path"||k)e.path=cc(f.path);d.rotation!=null&&b.rotate(d.rotation,!0),d.translation&&(j=s(d.translation)[t](c),cB.call(b,j[0],j[1]),b._.rt.cx!=null&&(b._.rt.cx+=+j[0],b._.rt.cy+=+j[1],b.setBox(b.attrs,j[0],j[1]))),d.scale&&(j=s(d.scale)[t](c),b.scale(+j[0]||1,+j[1]||+j[0]||1,+j[2]||null,+j[3]||null));if("clip-rect"in d){var o=s(d["clip-rect"])[t](c);if(o[x]==4){o[2]=+o[2]+ +o[0],o[3]=+o[3]+ +o[1];var p=e.clipRect||h.createElement("div"),r=p.style,u=e.parentNode;r.clip=a.format("rect({1}px {2}px {3}px {0}px)",o),e.clipRect||(r.position="absolute",r.top=0,r.left=0,r.width=b.paper.width+"px",r.height=b.paper.height+"px",u.parentNode.insertBefore(p,u),p[m](u),e.clipRect=p)}d["clip-rect"]||e.clipRect&&(e.clipRect.style.clip=q)}b.type=="image"&&d.src&&(e.src=d.src),b.type=="image"&&d.opacity&&(e.filterOpacity=V+".Alpha(opacity="+d.opacity*100+")",i.filter=(e.filterMatrix||q)+(e.filterOpacity||q)),d.font&&(i.font=d.font),d["font-family"]&&(i.fontFamily='"'+d["font-family"][t](",")[0][Z](/^['"]+|['"]+$/g,q)+'"'),d["font-size"]&&(i.fontSize=d["font-size"]),d["font-weight"]&&(i.fontWeight=d["font-weight"]),d["font-style"]&&(i.fontStyle=d["font-style"]);if(d.opacity!=null||d["stroke-width"]!=null||d.fill!=null||d.stroke!=null||d["stroke-width"]!=null||d["stroke-opacity"]!=null||d["fill-opacity"]!=null||d["stroke-dasharray"]!=null||d["stroke-miterlimit"]!=null||d["stroke-linejoin"]!=null||d["stroke-linecap"]!=null){e=b.shape||e;var v=e.getElementsByTagName(J)&&e.getElementsByTagName(J)[0],w=!1;!v&&(w=v=ce(J));if("fill-opacity"in d||"opacity"in d){var y=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+a.getRGB(d.fill).o+1||2)-1);y=B(A(y,0),1),v.opacity=y}d.fill&&(v.on=!0);if(v.on==null||d.fill=="none")v.on=!1;if(v.on&&d.fill){var z=d.fill.match(N);z?(v.src=z[1],v.type="tile"):(v.color=a.getRGB(d.fill).hex,v.src=q,v.type="solid",a.getRGB(d.fill).error&&(l.type in{circle:1,ellipse:1}||s(d.fill).charAt()!="r")&&bJ(l,d.fill)&&(f.fill="none",f.gradient=d.fill))}w&&e[m](v);var C=e.getElementsByTagName("stroke")&&e.getElementsByTagName("stroke")[0],D=!1;!C&&(D=C=ce("stroke"));if(d.stroke&&d.stroke!="none"||d["stroke-width"]||d["stroke-opacity"]!=null||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])C.on=!0;(d.stroke=="none"||C.on==null||d.stroke==0||d["stroke-width"]==0)&&(C.on=!1);var E=a.getRGB(d.stroke);C.on&&d.stroke&&(C.color=E.hex),y=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+E.o+1||2)-1);var F=(T(d["stroke-width"])||1)*.75;y=B(A(y,0),1),d["stroke-width"]==null&&(F=f["stroke-width"]),d["stroke-width"]&&(C.weight=F),F&&F<1&&(y*=F)&&(C.weight=1),C.opacity=y,d["stroke-linejoin"]&&(C.joinstyle=d["stroke-linejoin"]||"miter"),C.miterlimit=d["stroke-miterlimit"]||8,d["stroke-linecap"]&&(C.endcap=d["stroke-linecap"]=="butt"?"flat":d["stroke-linecap"]=="square"?"square":"round");if(d["stroke-dasharray"]){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};C.dashstyle=G[g](d["stroke-dasharray"])?G[d["stroke-dasharray"]]:q}D&&e[m](C)}if(l.type=="text"){i=l.paper.span.style,f.font&&(i.font=f.font),f["font-family"]&&(i.fontFamily=f["font-family"]),f["font-size"]&&(i.fontSize=f["font-size"]),f["font-weight"]&&(i.fontWeight=f["font-weight"]),f["font-style"]&&(i.fontStyle=f["font-style"]),l.node.string&&(l.paper.span.innerHTML=s(l.node.string)[Z](/</g,"&#60;")[Z](/&/g,"&#38;")[Z](/\n/g,"<br>")),l.W=f.w=l.paper.span.offsetWidth,l.H=f.h=l.paper.span.offsetHeight,l.X=f.x,l.Y=f.y+R(l.H/2);switch(f["text-anchor"]){case"start":l.node.style["v-text-align"]="left",l.bbx=R(l.W/2);break;case"end":l.node.style["v-text-align"]="right",l.bbx=-R(l.W/2);break;default:l.node.style["v-text-align"]="center"}}},bJ=function(a,b){a.attrs=a.attrs||{};var c=a.attrs,d,e="linear",f=".5 .5";a.attrs.gradient=b,b=s(b)[Z](be,function(a,b,c){e="radial",b&&c&&(b=T(b),c=T(c),D(b-.5,2)+D(c-.5,2)>.25&&(c=z.sqrt(.25-D(b-.5,2))*((c>.5)*2-1)+.5),f=b+r+c);return q}),b=b[t](/\s*\-\s*/);if(e=="linear"){var g=b.shift();g=-T(g);if(isNaN(g))return null}var h=by(b);if(!h)return null;a=a.shape||a.node,d=a.getElementsByTagName(J)[0]||ce(J),!d.parentNode&&a.appendChild(d);if(h[x]){d.on=!0,d.method="none",d.color=h[0].color,d.color2=h[h[x]-1].color;var i=[];for(var j=0,k=h[x];j<k;j++)h[j].offset&&i[M](h[j].offset+r+h[j].color);d.colors&&(d.colors.value=i[x]?i[w]():"0% "+d.color),e=="radial"?(d.type="gradientradial",d.focus="100%",d.focussize=f,d.focusposition=f):(d.type="gradient",d.angle=(270-g)%360)}return 1},bO=function(b,c,d){var e=0,f=0,g=0,h=1;this[0]=b,this.id=a._oid++,this.node=b,b.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=c,this.paper=d,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},bP=bO[f],bP.rotate=function(a,b,d){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](r);return this._.rt.deg}a=s(a)[t](c),a[x]-1&&(b=T(a[1]),d=T(a[2])),a=T(a[0]),b!=null?this._.rt.deg=a:this._.rt.deg+=a,d==null&&(b=null),this._.rt.cx=b,this._.rt.cy=d,this.setBox(this.attrs,b,d),this.Group.style.rotation=this._.rt.deg;return this},bP.setBox=function(a,b,c){if(this.removed)return this;var d=this.Group.style,e=this.shape&&this.shape.style||this.node.style;a=a||{};for(var f in a)a[g](f)&&(this.attrs[f]=a[f]);b=b||this._.rt.cx,c=c||this._.rt.cy;var h=this.attrs,i,j,k,l;switch(this.type){case"circle":i=h.cx-h.r,j=h.cy-h.r,k=l=h.r*2;break;case"ellipse":i=h.cx-h.rx,j=h.cy-h.ry,k=h.rx*2,l=h.ry*2;break;case"image":i=+h.x,j=+h.y,k=h.width||0,l=h.height||0;break;case"text":this.textpath.v=["m",R(h.x),", ",R(h.y-2),"l",R(h.x)+1,", ",R(h.y-2)][w](q),i=h.x-R(this.W/2),j=h.y-this.H/2,k=this.W,l=this.H;break;case"rect":case"path":if(!this.attrs.path)i=0,j=0,k=this.paper.width,l=this.paper.height;else{var m=bo(this.attrs.path);i=m.x,j=m.y,k=m.width,l=m.height}break;default:i=0,j=0,k=this.paper.width,l=this.paper.height}b=b==null?i+k/2:b,c=c==null?j+l/2:c;var n=b-this.paper.width/2,o=c-this.paper.height/2,p;d.left!=(p=n+"px")&&(d.left=p),d.top!=(p=o+"px")&&(d.top=p),this.X=cb[g](this.type)?-n:i,this.Y=cb[g](this.type)?-o:j,this.W=k,this.H=l,cb[g](this.type)?(e.left!=(p=-n*ca+"px")&&(e.left=p),e.top!=(p=-o*ca+"px")&&(e.top=p)):this.type=="text"?(e.left!=(p=-n+"px")&&(e.left=p),e.top!=(p=-o+"px")&&(e.top=p)):(d.width!=(p=this.paper.width+"px")&&(d.width=p),d.height!=(p=this.paper.height+"px")&&(d.height=p),e.left!=(p=i-n+"px")&&(e.left=p),e.top!=(p=j-o+"px")&&(e.top=p),e.width!=(p=k+"px")&&(e.width=p),e.height!=(p=l+"px")&&(e.height=p))},bP.hide=function(){!this.removed&&(this.Group.style.display="none");return this},bP.show=function(){!this.removed&&(this.Group.style.display="block");return this},bP.getBBox=function(){if(this.removed)return this;if(cb[g](this.type))return bo(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},bP.remove=function(){if(!this.removed){bB(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}},bP.attr=function(b,c){if(this.removed)return this;if(b==null){var d={};for(var e in this.attrs)this.attrs[g](e)&&(d[e]=this.attrs[e]);this._.rt.deg&&(d.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(d.scale=this.scale()),d.gradient&&d.fill=="none"&&(d.fill=d.gradient)&&delete d.gradient;return d}if(c==null&&a.is(b,"string")){if(b=="translation")return cB.call(this);if(b=="rotation")return this.rotate();if(b=="scale")return this.scale();if(b==J&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[b]}if(this.attrs&&c==null&&a.is(b,H)){var f,h={};for(e=0,f=b[x];e<f;e++)h[b[e]]=this.attr(b[e]);return h}var i;c!=null&&(i={},i[b]=c),c==null&&a.is(b,"object")&&(i=b);if(i){for(var j in this.paper.customAttributes)if(this.paper.customAttributes[g](j)&&i[g](j)&&a.is(this.paper.customAttributes[j],"function")){var k=this.paper.customAttributes[j].apply(this,[][o](i[j]));this.attrs[j]=i[j];for(var l in k)k[g](l)&&(i[l]=k[l])}i.text&&this.type=="text"&&(this.node.string=i.text),bL(this,i),i.gradient&&({circle:1,ellipse:1}[g](this.type)||s(i.gradient).charAt()!="r")&&bJ(this,i.gradient),(!cb[g](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},bP.toFront=function(){!this.removed&&this.Group.parentNode[m](this.Group),this.paper.top!=this&&bC(this,this.paper);return this},bP.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),bD(this,this.paper));return this},bP.insertAfter=function(a){if(this.removed)return this;a.constructor==cE&&(a=a[a.length-1]),a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode[m](this.Group),bE(this,a,this.paper);return this},bP.insertBefore=function(a){if(this.removed)return this;a.constructor==cE&&(a=a[0]),a.Group.parentNode.insertBefore(this.Group,a.Group),bF(this,a,this.paper);return this},bP.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(bZ,q),+b!==0?(this.attrs.blur=b,c.filter=d+r+V+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",R(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},bQ=function(a,b,c,d){var e=ce("group"),f=ce("oval"),g=f.style;e.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",e.coordsize=b_,e.coordorigin=a.coordorigin,e[m](f);var h=new bO(f,e,a);h.type="circle",bL(h,{stroke:"#000",fill:"none"}),h.attrs.cx=b,h.attrs.cy=c,h.attrs.r=d,h.setBox({x:b-d,y:c-d,width:d*2,height:d*2}),a.canvas[m](e);return h};function cd(b,c,d,e,f){return f?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b+f,c,d-f*2,f,-f,e-f*2,f*2-d,f*2-e):a.format("M{0},{1}l{2},0,0,{3},{4},0z",b,c,d,e,-d)}bR=function(a,b,c,d,e,f){var g=cd(b,c,d,e,f),h=a.path(g),i=h.attrs;h.X=i.x=b,h.Y=i.y=c,h.W=i.width=d,h.H=i.height=e,i.r=f,i.path=g,h.type="rect";return h},bS=function(a,b,c,d,e){var f=ce("group"),g=ce("oval"),h=g.style;f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",f.coordsize=b_,f.coordorigin=a.coordorigin,f[m](g);var i=new bO(g,f,a);i.type="ellipse",bL(i,{stroke:"#000"}),i.attrs.cx=b,i.attrs.cy=c,i.attrs.rx=d,i.attrs.ry=e,i.setBox({x:b-d,y:c-e,width:d*2,height:e*2}),a.canvas[m](f);return i},bT=function(a,b,c,d,e,f){var g=ce("group"),h=ce("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px",g.coordsize=b_,g.coordorigin=a.coordorigin,h.src=b,g[m](h);var i=new bO(h,g,a);i.type="image",i.attrs.src=b,i.attrs.x=c,i.attrs.y=d,i.attrs.w=e,i.attrs.h=f,i.setBox({x:c,y:d,width:e,height:f}),a.canvas[m](g);return i},bU=function(b,c,d,e){var f=ce("group"),g=ce("shape"),h=g.style,i=ce("path"),j=i.style,k=ce("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px",f.coordsize=b_,f.coordorigin=b.coordorigin,i.v=a.format("m{0},{1}l{2},{1}",R(c*10),R(d*10),R(c*10)+1),i.textpathok=!0,h.width=b.width,h.height=b.height,k.string=s(e),k.on=!0,g[m](k),g[m](i),f[m](g);var l=new bO(k,f,b);l.shape=g,l.textpath=i,l.type="text",l.attrs.text=e,l.attrs.x=c,l.attrs.y=d,l.attrs.w=1,l.attrs.h=1,bL(l,{font:X.font,stroke:"none",fill:"#000"}),l.setBox(),b.canvas[m](f);return l},bV=function(a,b){var c=this.canvas.style;a==+a&&(a+="px"),b==+b&&(b+="px"),c.width=a,c.height=b,c.clip="rect(0 "+a+" "+b+" 0)";return this};var ce;h.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!h.namespaces.rvml&&h.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),ce=function(a){return h.createElement("<rvml:"+a+' class="rvml">')}}catch(cf){ce=function(a){return h.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}bW=function(){var b=bz[n](0,arguments),c=b.container,d=b.height,e,f=b.width,g=b.x,i=b.y;if(!c)throw new Error("VML container not found.");var j=new k,l=j.canvas=h.createElement("div"),o=l.style;g=g||0,i=i||0,f=f||512,d=d||342,f==+f&&(f+="px"),d==+d&&(d+="px"),j.width=1e3,j.height=1e3,j.coordsize=ca*1e3+r+ca*1e3,j.coordorigin="0 0",j.span=h.createElement("span"),j.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[m](j.span),o.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),c==1?(h.body[m](l),o.left=g+"px",o.top=i+"px",o.position="absolute"):c.firstChild?c.insertBefore(l,c.firstChild):c[m](l),bA.call(j,j,a.fn);return j},l.clear=function(){this.canvas.innerHTML=q,this.span=h.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[m](this.span),this.bottom=this.top=null},l.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=bG(a);return!0}}var cg=navigator.userAgent.match(/Version\/(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(cg&&cg[1]<4||navigator.platform.slice(0,2)=="iP")?l.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});i.setTimeout(function(){a.remove()})}:l.safari=function(){};var ch=function(){this.returnValue=!1},ci=function(){return this.originalEvent.preventDefault()},cj=function(){this.cancelBubble=!0},ck=function(){return this.originalEvent.stopPropagation()},cl=function(){if(h.addEventListener)return function(a,b,c,d){var e=p&&v[b]?v[b]:b,f=function(e){if(p&&v[g](b))for(var f=0,h=e.targetTouches&&e.targetTouches.length;f<h;f++)if(e.targetTouches[f].target==a){var i=e;e=e.targetTouches[f],e.originalEvent=i,e.preventDefault=ci,e.stopPropagation=ck;break}return c.call(d,e)};a.addEventListener(e,f,!1);return function(){a.removeEventListener(e,f,!1);return!0}};if(h.attachEvent)return function(a,b,c,d){var e=function(a){a=a||i.event,a.preventDefault=a.preventDefault||ch,a.stopPropagation=a.stopPropagation||cj;return c.call(d,a)};a.attachEvent("on"+b,e);var f=function(){a.detachEvent("on"+b,e);return!0};return f}}(),cm=[],cn=function(a){var b=a.clientX,c=a.clientY,d=h.documentElement.scrollTop||h.body.scrollTop,e=h.documentElement.scrollLeft||h.body.scrollLeft,f,g=cm.length;while(g--){f=cm[g];if(p){var i=a.touches.length,j;while(i--){j=a.touches[i];if(j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}}else a.preventDefault();b+=e,c+=d,f.move&&f.move.call(f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},co=function(b){a.unmousemove(cn).unmouseup(co);var c=cm.length,d;while(c--)d=cm[c],d.el._drag={},d.end&&d.end.call(d.end_scope||d.start_scope||d.move_scope||d.el,b);cm=[]};for(var cp=u[x];cp--;)(function(b){a[b]=bO[f][b]=function(c,d){a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:cl(this.shape||this.node||h,b,c,d||this)}));return this},a["un"+b]=bO[f]["un"+b]=function(a){var c=this.events,d=c[x];while(d--)if(c[d].name==b&&c[d].f==a){c[d].unbind(),c.splice(d,1),!c.length&&delete this.events;return this}return this}})(u[cp]);bP.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},bP.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)},bP.drag=function(b,c,d,e,f,g){this._drag={},this.mousedown(function(i){(i.originalEvent||i).preventDefault();var j=h.documentElement.scrollTop||h.body.scrollTop,k=h.documentElement.scrollLeft||h.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,c&&c.call(f||e||this,i.clientX+k,i.clientY+j,i),!cm.length&&a.mousemove(cn).mouseup(co),cm.push({el:this,move:b,end:d,move_scope:e,start_scope:f,end_scope:g})});return this},bP.undrag=function(b,c,d){var e=cm.length;while(e--)cm[e].el==this&&cm[e].move==b&&cm[e].end==d&&cm.splice(e++,1);!cm.length&&a.unmousemove(cn).unmouseup(co)},l.circle=function(a,b,c){return bQ(this,a||0,b||0,c||0)},l.rect=function(a,b,c,d,e){return bR(this,a||0,b||0,c||0,d||0,e||0)},l.ellipse=function(a,b,c,d){return bS(this,a||0,b||0,c||0,d||0)},l.path=function(b){b&&!a.is(b,G)&&!a.is(b[0],H)&&(b+=q);return bI(a.format[n](a,arguments),this)},l.image=function(a,b,c,d,e){return bT(this,a||"about:blank",b||0,c||0,d||0,e||0)},l.text=function(a,b,c){return bU(this,a||0,b||0,s(c))},l.set=function(a){arguments[x]>1&&(a=Array[f].splice.call(arguments,0,arguments[x]));return new cE(a)},l.setSize=bV,l.top=l.bottom=null,l.raphael=a,bP.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},bP.scale=function(a,b,c,d){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,toString:cq};b=b||a,!+b&&(b=a);var e,f,g,h,i=this.attrs;if(a!=0){var j=this.getBBox(),k=j.x+j.width/2,l=j.y+j.height/2,m=C(a/this._.sx),n=C(b/this._.sy);c=+c||c==0?c:k,d=+d||d==0?d:l;var p=this._.sx>0,s=this._.sy>0,t=~~(a/C(a)),u=~~(b/C(b)),v=m*t,y=n*u,z=this.node.style,A=c+C(k-c)*v*(k>c==p?1:-1),B=d+C(l-d)*y*(l>d==s?1:-1),D=a*t>b*u?n:m;switch(this.type){case"rect":case"image":var E=i.width*m,F=i.height*n;this.attr({height:F,r:i.r*D,width:E,x:A-E/2,y:B-F/2});break;case"circle":case"ellipse":this.attr({rx:i.rx*m,ry:i.ry*n,r:i.r*D,cx:A,cy:B});break;case"text":this.attr({x:A,y:B});break;case"path":var G=bq(i.path),H=!0,I=p?v:m,J=s?y:n;for(var K=0,L=G[x];K<L;K++){var M=G[K],N=W.call(M[0]);if(N=="M"&&H)continue;H=!1;if(N=="A")M[G[K][x]-2]*=I,M[G[K][x]-1]*=J,M[1]*=m,M[2]*=n,M[5]=+(t+u?!!+M[5]:!+M[5]);else if(N=="H")for(var O=1,P=M[x];O<P;O++)M[O]*=I;else if(N=="V")for(O=1,P=M[x];O<P;O++)M[O]*=J;else for(O=1,P=M[x];O<P;O++)M[O]*=O%2?I:J}var Q=bo(G);e=A-Q.x-Q.width/2,f=B-Q.y-Q.height/2,G[0][1]+=e,G[0][2]+=f,this.attr({path:G})}this.type in{text:1,image:1}&&(t!=1||u!=1)?this.transformations?(this.transformations[2]="scale("[o](t,",",u,")"),this.node[S]("transform",this.transformations[w](r)),e=t==-1?-i.x-(E||0):i.x,f=u==-1?-i.y-(F||0):i.y,this.attr({x:e,y:f}),i.fx=t-1,i.fy=u-1):(this.node.filterMatrix=V+".Matrix(M11="[o](t,", M12=0, M21=0, M22=",u,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),z.filter=(this.node.filterMatrix||q)+(this.node.filterOpacity||q)):this.transformations?(this.transformations[2]=q,this.node[S]("transform",this.transformations[w](r)),i.fx=0,i.fy=0):(this.node.filterMatrix=q,z.filter=(this.node.filterMatrix||q)+(this.node.filterOpacity||q)),i.scale=[a,b,c,d][w](r),this._.sx=a,this._.sy=b}return this},bP.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale,delete a.translation;return this.paper[this.type]().attr(a)};var cr={},cs=function(b,c,d,e,f,g,h,i,j){var k=0,l=100,m=[b,c,d,e,f,g,h,i].join(),n=cr[m],o,p;!n&&(cr[m]=n={data:[]}),n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){delete cr[m]},2e3);if(j!=null){var q=cs(b,c,d,e,f,g,h,i);l=~~q*10}for(var r=0;r<l+1;r++){n.data[j]>r?p=n.data[r*l]:(p=a.findDotsAtSegment(b,c,d,e,f,g,h,i,r/l),n.data[r]=p),r&&(k+=D(D(o.x-p.x,2)+D(o.y-p.y,2),.5));if(j!=null&&k>=j)return p;o=p}if(j==null)return k},ct=function(b,c){return function(d,e,f){d=bx(d);var g,h,i,j,k="",l={},m,n=0;for(var o=0,p=d.length;o<p;o++){i=d[o];if(i[0]=="M")g=+i[1],h=+i[2];else{j=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6]);if(n+j>e){if(c&&!l.start){m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C",m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y];if(f)return k;l.start=k,k=["M",m.x,m.y+"C",m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]][w](),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c){m=cs(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n);return{x:m.x,y:m.y,alpha:m.alpha}}}n+=j,g=+i[5],h=+i[6]}k+=i}l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[1],i[2],i[3],i[4],i[5],i[6],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha});return m}},cu=ct(1),cv=ct(),cw=ct(0,1);bP.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return cu(this.attrs.path)}},bP.getPointAtLength=function(a){if(this.type=="path")return cv(this.attrs.path,a)},bP.getSubpath=function(a,b){if(this.type=="path"){if(C(this.getTotalLength()-b)<"1e-6")return cw(this.attrs.path,a).end;var c=cw(this.attrs.path,b,1);return a?cw(c,a).end:c}},a.easing_formulas={linear:function(a){return a},"<":function(a){return D(a,3)},">":function(a){return D(a-1,3)+1},"<>":function(a){a=a*2;if(a<1)return D(a,3)/2;a-=2;return(D(a,3)+2)/2},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a=a-1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){if(a==0||a==1)return a;var b=.3,c=b/4;return D(2,-10*a)*z.sin((a-c)*2*E/b)+1},bounce:function(a){var b=7.5625,c=2.75,d;a<1/c?d=b*a*a:a<2/c?(a-=1.5/c,d=b*a*a+.75):a<2.5/c?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375);return d}};var cx=[],cy=function(){var b=+(new Date);for(var c=0;c<cx[x];c++){var d=cx[c];if(d.stop||d.el.removed)continue;var e=b-d.start,f=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,l=d.t,m=d.el,n={},o;if(e<f){var p=h(e/f);for(var s in i)if(i[g](s)){switch(Y[s]){case"along":o=p*f*j[s],k.back&&(o=k.len-o);var t=cv(k[s],o);m.translate(j.sx-j.x||0,j.sy-j.y||0),j.x=t.x,j.y=t.y,m.translate(t.x-j.sx,t.y-j.sy),k.rot&&m.rotate(j.r+t.alpha,t.x,t.y);break;case F:o=+i[s]+p*f*j[s];break;case"colour":o="rgb("+[cA(R(i[s].r+p*f*j[s].r)),cA(R(i[s].g+p*f*j[s].g)),cA(R(i[s].b+p*f*j[s].b))][w](",")+")";break;case"path":o=[];for(var u=0,v=i[s][x];u<v;u++){o[u]=[i[s][u][0]];for(var y=1,z=i[s][u][x];y<z;y++)o[u][y]=+i[s][u][y]+p*f*j[s][u][y];o[u]=o[u][w](r)}o=o[w](r);break;case"csv":switch(s){case"translation":var A=p*f*j[s][0]-l.x,B=p*f*j[s][1]-l.y;l.x+=A,l.y+=B,o=A+r+B;break;case"rotation":o=+i[s][0]+p*f*j[s][0],i[s][1]&&(o+=","+i[s][1]+","+i[s][2]);break;case"scale":o=[+i[s][0]+p*f*j[s][0],+i[s][1]+p*f*j[s][1],2 in k[s]?k[s][2]:q,3 in k[s]?k[s][3]:q][w](r);break;case"clip-rect":o=[],u=4;while(u--)o[u]=+i[s][u]+p*f*j[s][u]}break;default:var C=[].concat(i[s]);o=[],u=m.paper.customAttributes[s].length;while(u--)o[u]=+C[u]+p*f*j[s][u]}n[s]=o}m.attr(n),m._run&&m._run.call(m)}else k.along&&(t=cv(k.along,k.len*!k.back),m.translate(j.sx-(j.x||0)+t.x-j.sx,j.sy-(j.y||0)+t.y-j.sy),k.rot&&m.rotate(j.r+t.alpha,t.x,t.y)),(l.x||l.y)&&m.translate(-l.x,-l.y),k.scale&&(k.scale+=q),m.attr(k),cx.splice(c--,1)}a.svg&&m&&m.paper&&m.paper.safari(),cx[x]&&setTimeout(cy)},cz=function(b,c,d,e,f){var g=d-e;c.timeouts.push(setTimeout(function(){a.is(f,"function")&&f.call(c),c.animate(b,g,b.easing)},e))},cA=function(a){return A(B(a,255),0)},cB=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:cq};this._.tx+=+a,this._.ty+=+b;switch(this.type){case"circle":case"ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case"path":var c=bq(this.attrs.path);c[0][1]+=+a,c[0][2]+=+b,this.attr({path:c})}return this};bP.animateWith=function(a,b,c,d,e){for(var f=0,g=cx.length;f<g;f++)cx[f].el.id==a.id&&(b.start=cx[f].start);return this.animate(b,c,d,e)},bP.animateAlong=cC(),bP.animateAlongBack=cC(1),bP.onAnimation=function(a){this._run=a||0;return this},bP.animate=function(b,d,e,f){var h=this;h.timeouts=h.timeouts||[];if(a.is(e,"function")||!e)f=e||null;if(h.removed){f&&f.call(h);return h}var i={},j={},k=!1,l={};for(var m in b)if(b[g](m))if(Y[g](m)||h.paper.customAttributes[g](m)){k=!0,i[m]=h.attr(m),i[m]==null&&(i[m]=X[m]),j[m]=b[m];switch(Y[m]){case"along":var n=cu(b[m]),o=cv(b[m],n*!!b.back),p=h.getBBox();l[m]=n/d,l.tx=p.x,l.ty=p.y,l.sx=o.x,l.sy=o.y,j.rot=b.rot,j.back=b.back,j.len=n,b.rot&&(l.r=T(h.rotate())||0);break;case F:l[m]=(j[m]-i[m])/d;break;case"colour":i[m]=a.getRGB(i[m]);var q=a.getRGB(j[m]);l[m]={r:(q.r-i[m].r)/d,g:(q.g-i[m].g)/d,b:(q.b-i[m].b)/d};break;case"path":var r=bx(i[m],j[m]);i[m]=r[0];var u=r[1];l[m]=[];for(var v=0,w=i[m][x];v<w;v++){l[m][v]=[0];for(var y=1,z=i[m][v][x];y<z;y++)l[m][v][y]=(u[v][y]-i[m][v][y])/d}break;case"csv":var A=s(b[m])[t](c),B=s(i[m])[t](c);switch(m){case"translation":i[m]=[0,0],l[m]=[A[0]/d,A[1]/d];break;case"rotation":i[m]=B[1]==A[1]&&B[2]==A[2]?B:[0,A[1],A[2]],l[m]=[(A[0]-i[m][0])/d,0,0];break;case"scale":b[m]=A,i[m]=s(i[m])[t](c),l[m]=[(A[0]-i[m][0])/d,(A[1]-i[m][1])/d,0,0];break;case"clip-rect":i[m]=s(i[m])[t](c),l[m]=[],v=4;while(v--)l[m][v]=(A[v]-i[m][v])/d}j[m]=A;break;default:A=[].concat(b[m]),B=[].concat(i[m]),l[m]=[],v=h.paper.customAttributes[m][x];while(v--)l[m][v]=((A[v]||0)-(B[v]||0))/d}}if(!k){var C=[],D;for(var E in b)b[g](E)&&$.test(E)&&(m={value:b[E]},E=="from"&&(E=0),E=="to"&&(E=100),m.key=U(E,10),C.push(m));C.sort(bf),C[0].key&&C.unshift({key:0,value:h.attrs});for(v=0,w=C[x];v<w;v++)cz(C[v].value,h,d/100*C[v].key,d/100*(C[v-1]&&C[v-1].key||0),C[v-1]&&C[v-1].value.callback);D=C[C[x]-1].value.callback,D&&h.timeouts.push(setTimeout(function(){D.call(h)},d))}else{var G=a.easing_formulas[e];if(!G){G=s(e).match(Q);if(G&&G[x]==5){var H=G;G=function(a){return cD(a,+H[1],+H[2],+H[3],+H[4],d)}}else G=function(a){return a}}cx.push({start:b.start||+(new Date),ms:d,easing:G,from:i,diff:l,to:j,el:h,t:{x:0,y:0}}),a.is(f,"function")&&(h._ac=setTimeout(function(){f.call(h)},d)),cx[x]==1&&setTimeout(cy)}return this},bP.stop=function(){for(var a=0;a<cx.length;a++)cx[a].el.id==this.id&&cx.splice(a--,1);for(a=0,ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[],clearTimeout(this._ac),delete this._ac;return this},bP.translate=function(a,b){return this.attr({translation:a+" "+b})},bP[I]=function(){return"Raphaël’s object"},a.ae=cx;var cE=function(a){this.items=[],this[x]=0,this.type="set";if(a)for(var b=0,c=a[x];b<c;b++)a[b]&&(a[b].constructor==bO||a[b].constructor==cE)&&(this[this.items[x]]=this.items[this.items[x]]=a[b],this[x]++)};cE[f][M]=function(){var a,b;for(var c=0,d=arguments[x];c<d;c++)a=arguments[c],a&&(a.constructor==bO||a.constructor==cE)&&(b=this.items[x],this[b]=this.items[b]=a,this[x]++);return this},cE[f].pop=function(){delete this[this[x]--];return this.items.pop()};for(var cF in bP)bP[g](cF)&&(cE[f][cF]=function(a){return function(){for(var b=0,c=this.items[x];b<c;b++)this.items[b][a][n](this.items[b],arguments);return this}}(cF));cE[f].attr=function(b,c){if(b&&a.is(b,H)&&a.is(b[0],"object"))for(var d=0,e=b[x];d<e;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items[x];f<g;f++)this.items[f].attr(b,c);return this},cE[f].animate=function(b,c,d,e){(a.is(d,"function")||!d)&&(e=d||null);var f=this.items[x],g=f,h,i=this,j;e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,G)?d:j,h=this.items[--g].animate(b,c,d,j);while(g--)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,b,c,d,j);return this},cE[f].insertAfter=function(a){var b=this.items[x];while(b--)this.items[b].insertAfter(a);return this},cE[f].getBBox=function(){var a=[],b=[],c=[],d=[];for(var e=this.items[x];e--;){var f=this.items[e].getBBox();a[M](f.x),b[M](f.y),c[M](f.x+f.width),d[M](f.y+f.height)}a=B[n](0,a),b=B[n](0,b);return{x:a,y:b,width:A[n](0,c)-a,height:A[n](0,d)-b}},cE[f].clone=function(a){a=new cE;for(var b=0,c=this.items[x];b<c;b++)a[M](this.items[b].clone());return a},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[g](d)&&(b.face[d]=a.face[d]);this.fonts[c]?this.fonts[c][M](b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=U(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[g](e)){var f=a.glyphs[e];b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d[Z](/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"};if(f.k)for(var h in f.k)f[g](h)&&(b.glyphs[e].k[h]=f.k[h])}}return a},l.getFont=function(b,c,d,e){e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(!!a.fonts){var f=a.fonts[b];if(!f){var h=new RegExp("(^|\\s)"+b[Z](/[^\w\d\s+!~.:_-]/g,q)+"(\\s|$)","i");for(var i in a.fonts)if(a.fonts[g](i)&&h.test(i)){f=a.fonts[i];break}}var j;if(f)for(var k=0,l=f[x];k<l;k++){j=f[k];if(j.face["font-weight"]==c&&(j.face["font-style"]==d||!j.face["font-style"])&&j.face["font-stretch"]==e)break}return j}},l.print=function(b,d,e,f,g,h,i){h=h||"middle",i=A(B(i||0,1),-1);var j=this.set(),k=s(e)[t](q),l=0,m=q,n;a.is(f,e)&&(f=this.getFont(f));if(f){n=(g||16)/f.face["units-per-em"];var o=f.face.bbox.split(c),p=+o[0],r=+o[1]+(h=="baseline"?o[3]-o[1]+ +f.face.descent:(o[3]-o[1])/2);for(var u=0,v=k[x];u<v;u++){var w=u&&f.glyphs[k[u-1]]||{},y=f.glyphs[k[u]];l+=u?(w.w||f.w)+(w.k&&w.k[k[u]]||0)+f.w*i:0,y&&y.d&&j[M](this.path(y.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}j.scale(n,n,p,r).translate(b-p,d-r)}return j},a.format=function(b,c){var d=a.is(c,H)?[0][o](c):arguments;b&&a.is(b,G)&&d[x]-1&&(b=b[Z](e,function(a,b){return d[++b]==null?q:d[b]}));return b||q},a.ninja=function(){j.was?i.Raphael=j.is:delete Raphael;return a},a.el=bP,a.st=cE[f],typeof b=="undefined"?j.was?i.Raphael=a:Raphael=a:b.exports=a})()}(),function(){var b=a._17={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._4.exports,g=a._15.exports,h=a._8.exports,i=a._5.exports,j=a._16.exports;b.exports=d(e,function(a){this._init=function(b){a(this,"_init"),this._slice=b},this._createContent=function(){this._status=this.append(this.dom({"class":"status"})),this._canvas=this.append(this.dom({"class":"canvas",style:{width:this._width,height:this._height,overflow:"hidden"}})),this._paper=j(this._canvas,this._width,this._height),this._slice.on("data",h(this,"_clearAndRender")).on("error",h(this,"_handleSliceError")).on("unauthorized",h(this,"_handleSliceUnauthorized")).on("loading",h(this,"_onSliceLoading"))},this._clearAndRender=function(a){this._paper.clear(),this._render(a||this._data),this.style(this._canvas,{width:this.getWidth(),height:this.getHeight()})},this._onSliceLoading=function(a){a?this._setStatus("loading..."):this._setStatus("")},this._setStatus=function(a){a?(this._status.innerHTML=a,this.show(this._status)):this.hide(this._status)},this._handleSliceError=function(a){this._setStatus("error: "+a.stack)},this._handleSliceUnauthorized=function(a){this._setStatus("Your session expired (probably because the server restarted). Please refresh the page")}})}(),function(){function j(){var a=arguments,b=function(c,e){var h=g.now()-c;for(var i=0;i<a.length;i+=3){var j=a[i],k=a[i+1],l=a[i+2],m=Number.MAX_VALUE;if(h>j)continue;var n=h;f(l,function(a){var b=Math.floor(n/a);n-=b*a,k=k.replace("%N",b),a<m&&(m=a)}),e&&(e(k),m&&setTimeout(d(b,c,e),m));return k}var o=a[a.length-1];return o};return b}function i(a,b){return i.stepFunction(a,b)}function h(){return(new Date).getTime()}var b=a._18={exports:{}},c=b.exports,d=a._2.exports,e=a._1.exports,f=a._4.exports,g=b.exports={now:h,ago:i};g.second=g.seconds=1e3,g.minute=g.minute=60*g.second,g.hour=g.hours=60*g.minute,g.day=g.days=24*g.hour,g.week=g.weeks=7*g.day,i.stepFunction=j(10*g.second,"just now",null,g.minute,"less than a minute ago",null,2*g.minute,"one minute ago",null,g.hour,"%N minutes ago",[g.minute],2*g.hour,"one hour ago",null,g.day,"%N hours ago",[g.hour],g.day*2,"one day ago",null,g.week,"%N days ago",[g.day],2*g.week,"1 week ago",[g.week],0,"%N weeks ago",[g.week]),i.precise=j(g.minute,"%N seconds ago",[g.second],g.hour,"%N minutes, %N seconds ago",[g.minute,g.second],g.day,"%N hours, %N minutes ago",[g.hour,g.minute],g.week,"%N days, %N hours ago",[g.day,g.hour],0,"%N weeks, %N days ago",[g.week,g.day])}(),function(){var b=a._19={exports:{}},c=b.exports,d=0;b.exports=function(a,b){typeof b!="number"&&(b=50);var c="__delayTimeout__"+ ++d;return function(){this[c]&&clearTimeout(this[c]);var d=arguments,e=this;this[c]=setTimeout(function(){clearTimeout(e[c]),delete e[c],a.apply(e,d)},b)}}}(),function(){var b=a._20={exports:{}},c=b.exports,d=0;b.exports=function(a,b){typeof b!="number"&&(b=50);var c="__throttleTime__"+ ++d;return function(){this[c]+b>(new Date).getTime()||(this[c]=(new Date).getTime(),a.apply(this,arguments))}}}(),function(){var b=a._21={exports:{}},c=b.exports,d=a._5.exports,e=["#57a257"],f=[.6,.2,.05,.1333,.75,0],g=d(f,function(a){return"hsb("+a+", .75, .75)"}).concat(d(f,function(a){return"hsb("+a+", 1, .5)"}));b.exports=e.concat(g)}(),function(){var b=a._22={exports:{}},c=b.exports;b.exports=function(a,b){if(!(b>0))return Math.round(a);var c=Math.pow(10,b);return Math.round(a*c)/c}}(),function(){var b=a._23={exports:{}},c=b.exports,d=a._7.exports,e=a._17.exports,f=a._5.exports,g=a._15.exports,h=a._4.exports,i=a._8.exports,j=a._18.exports,k=a._19.exports,l=a._20.exports,m=a._21.exports,n=a._22.exports;gInvisibleQueries={},b.exports=d(e,function(a){function e(a){!!b&&!!b.parentNode&&(d=setTimeout(function(){b.parentNode.removeChild(b)},150))}function c(a){b||(b=document.createElement("div"),o.style(b,{position:"absolute",padding:8,background:"#579157",border:"1px solid #008000",color:"#fff"})),document.body.appendChild(b);var c=o.layout(this.node);o.style(b,{left:c.x+25,top:c.y-40});var e=new Date(this.xValue),f=function(a){return a.toString().length==1?"0"+a:a};b.innerHTML="time: "+e.getDate()+"th @ "+f(e.getHours())+":"+f(e.getMinutes())+"<br />value: "+n(this.yValue,2),clearTimeout(d)}this._paperOpts={width:1,smooth:!1,shade:!1,nostroke:!1,symbol:null},this._dataWidth=1300,this._dataHeight=200,this._gutter={top:10,right:0,bottom:80,left:100},this.getWidth=function(){return this._gutter.left+this._dataWidth+this._gutter.right},this.getHeight=function(){return this._gutter.top+this._dataHeight+this._gutter.bottom+this._legendHeight},this.setTickInterval=function(a){this._tickInterval=a,this._renderXAxis()},this._createContent=function(){a(this,"_createContent"),this._makeDraggable().on("drag",i(this,"_onDrag"))._on("mousewheel",i(this,"_onMouseWheel"))},this._onMouseWheel=function(a){a.cancel(),this._shiftBy(a.dx)},this._onZoomClick=function(a){this._slice.isRequestingData()||this._slice.zoom({factor:a})},this._shiftedBy=0,this._shiftBy=function(a){if(!this._slice.isRequestingData()){if(!this._lines||!a)return;this._shiftedBy+=a,this._lines.translate(a),this._renderXAxis(),this._scheduleShift(),this._publish("ShiftBy")}},this._onDrag=function(a){this._shiftBy(a.delta.x)},this._scheduleShift=k(function(){this._slice.shift({time:this._getUIOffset()}),this._shiftedBy=0},350),this._getUIOffset=function(){return this._pixelsToTime(this._shiftedBy)},this._pixelsToTime=function(a){var b=this._slice.getWindow()/this._dataWidth,c=-Math.round(a*b);return c},this._timeToPixels=function(a){var b=this._slice.getWindow()/this._dataWidth,c=-Math.round(a/b);return c};var b,d;this._render=function(a){this._data=a;var b={x:a.timespan/this._dataWidth,y:a.valuespan/(this._dataHeight-5)};this._renderControls(),this._renderData(a,b),this._renderXAxis(),this._renderYAxis(),this._renderLegend(a),this._paper.setSize(this.getWidth(),this.getHeight())},this._renderXAxis=l(function(){!this._data||(this._xAxis&&this._xAxis.remove(),this._xAxis=this._renderAxis(!0,this._tickInterval,this._data.start,this._data.timespan,i(this,function(a){var b=new Date(a),c=b.getHours().toString(),d=b.getMinutes().toString();c.length==1&&(c="0"+c),d.length==1&&(d="0"+d);return this._tickInterval<1*j.hour?b.getDate()+"th "+c+":"+d:b.getDate()+"th @ "+c+":00"})))}),this._renderYAxis=function(){this._yAxis&&this._yAxis.node&&this._yAxis.remove(),this._yAxis=this._renderAxis(!1,Math.max(6,Math.round(this._data.valuespan/6)),this._data.min,this._data.valuespan,function(a){return n(a,2)})},this._renderData=function(a,b){this._lines=this._paper.set();if(!a.x[0]||a.x[0].length<2)this._setStatus("No data");else{var c=this._gutter;h(a.x,this,function(d,e){if(!(d.length<2)){if(gInvisibleQueries[a.titles[e]])return;this._lines.push(this._drawLine(d,a.y[e],a,b).attr({stroke:m[e],"clip-rect":[c.left,c.top,c.left+this._dataWidth,c.top+this._dataHeight]}).translate(a.offsets[e]/b.x))}}),this._lines.translate(c.left,c.top)}},this._drawLine=function(a,b,d,f){var g=this._paper.set(),h=[];for(var i=0;i<a.length;i++){if(!a[i]||!b[i])continue;var j=a[i]-d.start,k=b[i]-d.min,l=Math.round(j/f.x),m=this._dataHeight-Math.round(k/f.y);h.push(l,m);var n=this._paper.circle(l,m,4).attr("fill","#fff");n.xValue=a[i],n.yValue=b[i],n.hover(c,e),g.push(n)}h.unshift("M"),h.splice(3,0,"L"),g.push(this._paper.path(h.join(" ")));return g},this._renderAxis=function(a,b,c,d,e){var f=this._paper.set(),g=Math.max(6,Math.min(40,Math.floor(d/b))),h=a?c%b:0,i=this._timeToPixels(h),j=a?1:-1,k=10*j,l=5*j,m=(a?this._dataWidth:this._dataHeight)/g,n=a?"x":"y",o=a?"y":"x";for(var p=0;p<=g;p++){var q={},r=Math.round(p*m);q[n]=a?r+this._shiftedBy+i:this._dataHeight-r,q[o]=l;var s=["M",q.x,q.y];q[o]+=k,s.push("L",q.x,q.y),f.push(this._paper.path(s.join(" "))),q[o]+=l;var t=c+p/g*d+h,u=a?"start":"end",v=this._paper.text(q.x,q.y,e(t)).attr("text-anchor",u);if(a){var w=q.x-i||1;v.rotate(90).translate(-28,25)}f.push(v)}f.translate(this._gutter.left,this._gutter.top+(a?this._dataHeight:0));return f},this._renderLegend=function(a){var b=this._paper.set(),c=10,d=15;h(a.titles,this,function(e,f){var g=m[f],h=gInvisibleQueries[a.titles[f]]?"#fff":g,j=this._paper.circle(100,c+f*d,3).attr({stroke:g,fill:h,cursor:"pointer"}).click(i(this,"_toggleLineVisible",f)),k=this._paper.text(110,c+f*d,e+" (total over this period: "+n(a.totals[f],1)+")").attr({fill:g,"text-anchor":"start",cursor:"pointer"}).click(i(this,"_toggleLineVisible",f));b.push(j,k)}),b.translate(0,this._gutter.top+this._dataHeight+this._gutter.bottom),this._legendHeight=c+a.titles.length*d},this._toggleLineVisible=function(a){var b=this._data.titles[a];gInvisibleQueries[b]=!gInvisibleQueries[b],this._slice.refreshWithoutQuery()},this._renderControls=function(){function g(g,h,i,j){var k=c.x+g*e,l=c.y+h*e;b.push(f(a.circle(k,l,d),"#45a35e",j)),b.push(f(a.text(k,l,i),"#333",j))}function f(a,b,c){a.click(c).attr({fill:b,cursor:"pointer"});return a}var a=this._paper,b=a.set(),c={x:20,y:20},d=9,e=20;g(0,0,"+",i(this,"_onZoomClick",-0.5)),g(0,1,"-",i(this,"_onZoomClick",.5))}});var o=new a._13.exports}(),function(){var b=a._24={exports:{}},c=b.exports;b.exports={Line:a._23.exports}}(),function(){var b=a._25={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._10.exports,g=a._8.exports;b.exports=d(e,function(a){var b={label:"A Button"};this._class="Button",this._init=function(c){a(this,"_init",arguments),c=f(c,b),this._label=c.label},this.label=function(a){if(typeof a=="undefined")return this._label;this._label=a,this._el&&this.html(a);return this},this._createContent=function(){this.html(this._label),this._on("mousedown",g(this,"_onMouseDown")),this._on("mouseup",g(this,"_onMouseUp")),this._on("mouseover",g(this,"_onMouseOver")),this._on("mouseout",g(this,"_onMouseOut"))},this._onMouseOver=function(){this.addClass("hover")},this._onMouseOut=function(){this._mouseDown=!1,this.removeClass("down"),this.removeClass("hover")},this._onMouseDown=function(){this._mouseDown=!0,this.addClass("down")},this._onMouseUp=function(){!this._mouseDown||(this._mouseDown=!1,this.removeClass("down"),this._publish("click"))}})}(),function(){var b=a._26={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._10.exports,g=a._25.exports,h=a._8.exports,i=a._4.exports,j=a._15.exports;b.exports=d(e,function(a){this._init=function(){a(this,"_init",arguments),this._buttons=[],this._payloads=[],this._index=null},this._class="RadioButtons",this.add=function(a,b){var c=new g({label:a,toggle:!0}),d=this._buttons.length;c.addClass("RadioButton"),c.on("click",h(this,"select",d)),d==0&&c.addClass("leftMost"),this._buttons[d-1]&&this._buttons[d-1].removeClass("rightMost"),c.addClass("rightMost"),this._payloads.push(b||a),this._buttons.push(c),c.appendTo(this);return this},this.select=function(a){a!==this._index&&(this.deselect(),this._buttons[a].addClass("toggled"),this._index=a,this._publish("select",this._payloads[a]))},this.deselect=function(){i(this._buttons,j("removeClass","toggled"))}})}(),function(){function f(a){return!!a||a===!1}var b=a._27={exports:{}},c=b.exports,d=a._4.exports;b.exports=function(a,b){var c=[];b||(b=f),d(a,function(a,d){!b(a,d)||c.push(a)});return c}}(),function(){var b=a._28={exports:{}},c=b.exports,d=a._5.exports;b.exports=function(a){return d(a,function(a,b){return b})}}(),function(){function B(a,b,c){A+=1;var d=a.offset,f=b._start-d,g=b._start+b._window-d+x,h={ascii:!0,start:s(f)};Math.abs(g-n.now())>=10*n.second&&(h.end=s(g)),h.m=b._getQueryString(a),e.get("/tsd/q",h,function(){A-=1,c.apply(this,arguments)},{encode:!1})}function z(a,b){B(a,b,j(b,"_handleData",a));return;var c=j(b,"_handleData",a)}function w(a){return a.value}function v(a){return a.ts}function u(a){if(!a)return null;a=a.split(" ");var b={};h(p(a,3),function(a){var c=a.split("="),d=c[0],e=c[1].substr(d.length+1);b[d]=e});return{key:a[0],ts:parseInt(a[1])*n.second,value:parseFloat(a[2]),tags:b}}function t(a){if(!a)return"";return"{"+g(a,function(a,b){return b+"="+a}).sort().join(",")+"}"}function s(a){var b=new Date(a);return[b.getFullYear(),"/",b.getMonth()+1,"/",b.getDate(),"-",b.getHours(),":",b.getMinutes(),":",b.getSeconds()].join("")}function r(){return this.id}var b=a._29={exports:{}},c=b.exports,d=a._7.exports,e=a._6.exports,f=a._9.exports,g=a._5.exports,h=a._4.exports,i=a._27.exports,j=a._8.exports,k=a._2.exports,l=a._20.exports,m=a._19.exports,n=a._18.exports,o=a._28.exports,p=a._1.exports,q=[];b.exports=d(f,function(a){function b(a,b){return function(c,d){b.call(this,c);if(d)return this;h(q,j(this,function(b){b!=this&&b[a](c,!0)}));return this}}this._init=function(b,c){a(this,"_init",arguments),this._metric=b,this._queries=[{}],this._data={},this._window=1*n.day,this._start=n.now()-this._window,this._timeOffsets=[{offset:0}],this._aggregator=c||"sum",this._seriesAggregate="1h-sum",this._queriesLoading=0,q.push(this),this._loadState()},this.setWindow=function(a,b){this._clip(function(){this._window=b,this._start=a})},this.setSeriesAggregate=function(a){this._seriesAggregate=a,this._clear(),this._query()},this.getTitle=function(){return this._metric},this.getWindow=function(){return this._window},this.zoom=b("zoom",function(a){a.factor&&this._clip(function(){var b=this._window*a.factor,c=-Math.round(b/2);this._window+=b,this._start+=c})}),this.shift=b("shift",function(a){a.factor&&this._clip(function(){this._start+=this._window*a.factor}),a.time&&this._clip(function(){this._start+=a.time})}),this.refreshWithoutQuery=b("refreshWithoutQuery",function(){this._publishData()}),this._clip=function(a){var b=this._start,c=this._window;a.call(this);var d=this._start+this._window;if(d>n.now()){var e=d-n.now();this._start-=e}(b!=this._start||c!=this._window)&&this._query()},this.addQuery=function(a){a=o(a).length?a:null,this._queries.push({tags:a}),this._query();return this},this.removeQuery=function(a){this._perOffsetQuery(function(b){t(a)==t(b.tags)&&this._removeOffsetQuery(b)}),this._queries=i(this._queries,function(b){return t(a)!=t(b.tags)}),this._query();return this},this.addTimeOffset=function(a){this._timeOffsets.push({offset:a}),this._query();return this},this.removeTimeOffset=function(a){this._perOffsetQuery(function(b){b.offset==a&&this._removeOffsetQuery(b)}),this._timeOffsets=i(this._timeOffsets,function(b){return a!=b.offset}),this._publishData();return this},this._removeOffsetQuery=function(a){delete this._data[a]},this._query=function(){this._publish("loading",!0),this._clear(),this._perOffsetQuery(function(a){this._queriesLoading++,z(a,this)})},this._handleData=function(a,b,c){--this._queriesLoading||this._publish("loading",!1);if(b)this._publish("error",b),this._removeOffsetQuery(a);else if(c.match(/^<!DOCTYPE HTML/))this._publish("error",new Error("Bad request")),this._removeOffsetQuery(a);else if(c.match(/^<form method="post" action="\/login">/))this._publish("unauthorized",new Error("Unauthorized")),this._removeOffsetQuery(a);else{var d=i(g(c.split("\n"),u)),e=g(d,v),f=g(d,w),j=a.tags?g(a.tags,function(a){return a}).join(":"):"Total",k=this._data[a]={title:j,offset:a.offset,x:[],y:[]};h(d,function(a){k.x.push(a.ts),k.y.push(a.value)})}this._queriesLoading||this._publishData()},this._storeState=function(){var a={queries:this._queries,window:this._window,start:this._start,aggregate:this._seriesAggregate,gInvisibleQueries:gInvisibleQueries};location.hash="#"+encodeURIComponent(JSON.stringify(a))},this._loadState=function(){var a=location.hash.substr(1);if(a){var b=JSON.parse(decodeURIComponent(a));this._queries=b.queries,this._window=b.window,this._start=b.start,this._seriesAggregate=b.aggregate,b.gInvisibleQueries&&(gInvisibleQueries=b.gInvisibleQueries)}this._clear(),this._query()},this._clear=function(){this._data={};return this},this._getQueryString=function(a){var b=this._aggregator+":"+this._seriesAggregate+":"+this._metric+t(a.tags);return b},this.toString=function(){return this._aggregator+":"+this._metric},this._perOffsetQuery=function(a){h(this._queries,this,function(b){h(this._timeOffsets,this,function(c){var d=t(b.tags)+c.offset,e=c.offset,f={tags:b.tags,id:d,offset:e,toString:r};a.call(this,f)})})},this._publishData=function(){var a=[],b=[],c=[],d=[],e=0,f=0,i=[],j=this._start,k=this._start+this._window,l=g(this._data,function(a){return a});l.sort(function(a,b){if(a.title==b.title)return 0;if(a.title=="Total")return-1;if(b.title=="Total")return 1;return a.title<b.title?1:-1}),h(l,this,function(g){a.push(g.x),b.push(g.y),c.push(g.offset),d.push(g.title);var l=0;gInvisibleQueries[g.title]||h(g.y,this,function(a,b){g.x[b]<j||g.x[b]>k?(delete g.x[b],delete g.y[b]):(a&&(l+=a),a>e&&(e=a),a<f&&(f=a))}),i.push(l)});var m={x:a,y:b,titles:d,offsets:c,start:j,end:k,timespan:k-this._start,min:f,max:e,valuespan:Math.max(e-f,.01),totals:i};this._storeState(),this._publish("data",m)},this.isRequestingData=function(){return!!A}});var x=12*n.hour,y=[],A=0}(),function(){var b=a._30={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._24.exports,g=a._4.exports,h=a._26.exports,i=a._29.exports,j=a._8.exports;b.exports=d(e,function(a){this._class="MetricView",this._init=function(b){a(this,"_init"),this._slice=new i(b),this._views={}},this._createContent=function(){this._createTitle(),this._createViewPicker()},this.getSlice=function(){return this._slice},this.getGraph=function(){return this._views.Chart},this._createTitle=function(){this.append(this.dom({html:this._slice.getTitle(),"class":"title"}))},this._createViewPicker=function(){var a={Chart:f.Line},b=(new h).on("select",j(this,"_selectView"));g(a,function(a,c){b.add({label:c,"class":a})}),b.select(0)},this._selectView=function(a){this._currentView&&this._currentView.hide();var b=this._views,c=a.label;b[c]||(b[c]=new a["class"](this._slice)),this._currentView=b[c].appendTo(this).show()}})}(),function(){var b=a._31={exports:{}},c=b.exports,d=a._7.exports,e=a._13.exports,f=a._10.exports,g=a._8.exports,h=a._5.exports,i=a._30.exports;b.exports=d(e,function(a){this._title="Tab Title",this._class="TabContent";var b={};this._init=function(c){a(this,"_init",arguments),c=f(c,b),c.title&&(this._title=c.title)},this.getTitle=function(){return this._title},this._createContent=function(){this._metricViews=h(this._metrics,this,function(a){return(new i(a)).appendTo(this)})}})}(),function(){var b=a._32={exports:{}},c=b.exports;b.exports=["http.hits","http.asd"]}(),function(){var b=a._33={exports:{}},c=b.exports,d=a._7.exports,e=a._31.exports,f=a._30.exports,g=a._8.exports,h=a._2.exports,i=a._4.exports,j=a._5.exports,k=a._25.exports,l=a._26.exports,m=a._18.exports,n=a._6.exports,o=a._32.exports;b.exports=d(e,function(a){var b=location.hash.substr(1);this._title="Deals",this._createContent=function(){this._timeButtons={},this._createTimeWindowSelectors(),this._createSeriesAggregateSelectors(),this._createTickIntervalSelectors(),this._createQueryPickers(),a(this,"_createContent")},this._createQueryPickers=function(){var a=this.append(this.dom({"class":"control",html:"<h2>Queries</h2>"}));this._queryButtons={},this._fetchTagKeys(g(this,function(b,c){if(b)return a.appendChild(this.dom({html:"Error loading tag keys - sad panda"}));i(c,this,function(b){var c=a.appendChild(this.dom({"class":"queryKey",html:"<h3>"+b+"</h3>"}));this._queryButtons[b]={},this._fetchTagValues(b,g(this,function(a,d){if(a)return c.appendChild(this.dom({html:"Error loading values for "+b}));i(d,this,function(a){this._queryButtons[b][a]=(new k).label(a).addClass("RadioButton").appendTo(c).on("click",g(this,"_toggleQuery",b,a))})}))})}))},this._fetchTagKeys=function(a){var b="qwertyuiopasdfghjklzxcvbnm",c=[],d=b.length;i(b.split(""),function(b){n.get("/tsd/suggest",{type:"tagk",q:b},function(b,e){if(b)return a(b);c=c.concat(JSON.parse(e)),--d||a(null,c)},{encode:!1})})},this._fetchTagValues=function(a,b){n.get("/tsd/suggest",{type:"tagv",q:a},function(c,d){if(c)return b(c);var e=j(JSON.parse(d),function(b){return b.replace(a+"-","")});b(null,e)},{encode:!1})},this._toggleQuery=function(a,b){var c=this._queryButtons[a][b],d=!c.hasClass("toggled");c.toggleClass("toggled"),i(this._metricViews,this,function(c){var e=c.getSlice(),f={};f[a]=a+"-"+b,d?e.addQuery(f):e.removeQuery(f)})};var c={"Last 10 min":10*m.minute,"Last hour":m.hour,"Last day":m.day,"Last 3 days":3*m.day,"Last week":m.week,"Last month":30*m.day};this._createTimeWindowSelectors=function(){var a=this.append(this.dom({"class":"control",html:"<h2>View</h2>"})),d=(new l).on("select",g(this,"_selectTimePeriod")).appendTo(a);i(c,this,function(a,b){d.add(b,a)}),b||d.select(2),setTimeout(g(this,function(){i(this._metricViews,function(a){a.getGraph().on("ShiftBy",g(d,"deselect"))})}),0)},this._selectTimePeriod=function(a){i(this._metricViews,function(b){b.getSlice().setWindow(m.now()-a,a)})};var d={"1 Minute sum":"1m-sum","1 Hour Sum":"1h-sum","1 Day Sum":"1d-sum"};this._createSeriesAggregateSelectors=function(){var a=this.append(this.dom({"class":"control",html:"<h2>Aggregate</h2>"})),c=(new l).on("select",g(this,"_selectSeriesAggregate")).appendTo(a);i(d,this,function(a,b){c.add(b,a)}),b||c.select(1)},this._selectSeriesAggregate=function(a){i(this._metricViews,this,function(b){b.getSlice().setSeriesAggregate(a)})};var e={"Per Minute":1*m.minute,"Per Hour":1*m.hour,"Per 12 Hours":12*m.hour,"Per Day":1*m.day};this._createTickIntervalSelectors=function(){var a=this.append(this.dom({"class":"control",html:"<h2>Time Ticks</h2>"})),b=(new l).on("select",g(this,"_setTickInterval")).appendTo(a);i(e,this,function(a,c){b.add(c,a)}),setTimeout(g(b,"select",1),0)},this._setTickInterval=function(a,b){i(this._metricViews,this,function(b){b.getGraph().setTickInterval(a)})};var f={"1 Hour ago":m.hour,"1 Day ago":m.day,"1 Week ago":m.week,"1 Month ago":4*m.week};this._createTimeOffsets=function(){var a=this.append(this.dom({"class":"control",html:"<h2>Times</h2>"}));i(f,this,function(b,c){this._timeButtons[c]=(new k).label(c).addClass("RadioButton").appendTo(a).on("click",g(this,"_toggleTimeOffset",c))})},this._toggleTimeOffset=function(a){var b=this._timeButtons[a],c=b.hasClass("toggled");b.toggleClass("toggled"),i(this._metricViews,this,function(b){var d=b.getSlice();c?d.removeTimeOffset(f[a]):d.addTimeOffset(f[a],a)})}})}(),function(){function i(){var a=(new f).addClass("header").html('<div class="logo">OpenTSDB</div><div class="dashboardLogo">Dashboard</div>').appendTo(document.body),b=(new f).addClass("body").appendTo(document.body);(new g).addTab(new h).appendTo(b).selectTab(0)}var b=a._0={exports:{}},c=b.exports,d=a._6.exports,e=a._5.exports,f=a._13.exports,g=a._14.exports,h=a._33.exports;i()}()</script>
</body>
</html>
